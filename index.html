<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Julian Maitra">
<meta name="dcterms.date" content="2024-02-22">

<title>Exercices M√©thodes II</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table des mati√®res</h2>
   
  <ul class="collapse">
  <li><a href="#session-1" id="toc-session-1" class="nav-link active" data-scroll-target="#session-1">Session 1</a>
  <ul class="collapse">
  <li><a href="#linterface-rstudio" id="toc-linterface-rstudio" class="nav-link" data-scroll-target="#linterface-rstudio">L‚Äôinterface RStudio</a></li>
  <li><a href="#ex√©cuter-un-script-r" id="toc-ex√©cuter-un-script-r" class="nav-link" data-scroll-target="#ex√©cuter-un-script-r">Ex√©cuter un script R</a></li>
  <li><a href="#commenter-votre-code-avec-un" id="toc-commenter-votre-code-avec-un" class="nav-link" data-scroll-target="#commenter-votre-code-avec-un">Commenter votre code avec un <code>#</code></a></li>
  <li><a href="#lop√©rateur-daffectation--" id="toc-lop√©rateur-daffectation--" class="nav-link" data-scroll-target="#lop√©rateur-daffectation--">L‚Äôop√©rateur d‚Äôaffectation <code>&lt;-</code></a></li>
  <li><a href="#variables-√†-√©l√©ment-unique" id="toc-variables-√†-√©l√©ment-unique" class="nav-link" data-scroll-target="#variables-√†-√©l√©ment-unique">Variables √† √©l√©ment unique</a></li>
  <li><a href="#variables-√†-plusieurs-√©l√©ments-vecteurs" id="toc-variables-√†-plusieurs-√©l√©ments-vecteurs" class="nav-link" data-scroll-target="#variables-√†-plusieurs-√©l√©ments-vecteurs">Variables √† plusieurs √©l√©ments : vecteurs</a></li>
  <li><a href="#devoir-pour-session-2" id="toc-devoir-pour-session-2" class="nav-link" data-scroll-target="#devoir-pour-session-2">Devoir pour Session 2</a></li>
  </ul></li>
  <li><a href="#session-2" id="toc-session-2" class="nav-link" data-scroll-target="#session-2">Session 2</a>
  <ul class="collapse">
  <li><a href="#r√©p√©tition-rapide-de-session-1" id="toc-r√©p√©tition-rapide-de-session-1" class="nav-link" data-scroll-target="#r√©p√©tition-rapide-de-session-1">R√©p√©tition rapide de session 1</a></li>
  <li><a href="#donn√©es-en-forme-de-tableau" id="toc-donn√©es-en-forme-de-tableau" class="nav-link" data-scroll-target="#donn√©es-en-forme-de-tableau">Donn√©es en forme de tableau</a></li>
  <li><a href="#les-matrices" id="toc-les-matrices" class="nav-link" data-scroll-target="#les-matrices">Les matrices</a></li>
  <li><a href="#les-data-frames" id="toc-les-data-frames" class="nav-link" data-scroll-target="#les-data-frames">Les data frames</a></li>
  <li><a href="#fonctions-statistiques-de-base" id="toc-fonctions-statistiques-de-base" class="nav-link" data-scroll-target="#fonctions-statistiques-de-base">Fonctions statistiques de base</a></li>
  <li><a href="#les-facteurs" id="toc-les-facteurs" class="nav-link" data-scroll-target="#les-facteurs">Les facteurs</a></li>
  <li><a href="#le-r√©p√©rtoire-de-travail" id="toc-le-r√©p√©rtoire-de-travail" class="nav-link" data-scroll-target="#le-r√©p√©rtoire-de-travail">Le r√©p√©rtoire de travail</a></li>
  <li><a href="#devoir-pour-session-3-problem-set-1" id="toc-devoir-pour-session-3-problem-set-1" class="nav-link" data-scroll-target="#devoir-pour-session-3-problem-set-1">Devoir pour Session 3 (Problem Set 1)</a></li>
  </ul></li>
  <li><a href="#session-3-problem-set-1" id="toc-session-3-problem-set-1" class="nav-link" data-scroll-target="#session-3-problem-set-1">Session 3 (Problem Set 1)</a></li>
  <li><a href="#session-4" id="toc-session-4" class="nav-link" data-scroll-target="#session-4">Session 4</a>
  <ul class="collapse">
  <li><a href="#les-paquets-r" id="toc-les-paquets-r" class="nav-link" data-scroll-target="#les-paquets-r">Les paquets R</a></li>
  <li><a href="#les-jeux-de-donn√©es-int√©gr√©s" id="toc-les-jeux-de-donn√©es-int√©gr√©s" class="nav-link" data-scroll-target="#les-jeux-de-donn√©es-int√©gr√©s">Les jeux de donn√©es int√©gr√©s</a></li>
  <li><a href="#introduction-aux-visualisations-avec-ggplot2" id="toc-introduction-aux-visualisations-avec-ggplot2" class="nav-link" data-scroll-target="#introduction-aux-visualisations-avec-ggplot2">Introduction aux visualisations avec <code>ggplot2</code></a></li>
  <li><a href="#devoir-pour-session-5" id="toc-devoir-pour-session-5" class="nav-link" data-scroll-target="#devoir-pour-session-5">Devoir pour Session 5</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exercices M√©thodes II</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Julian Maitra <a href="mailto:julian.maitra@unifr.ch" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0003-3989-5158" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://www.unifr.ch/home/en/">
            Universit√© de Fribourg
            </a>
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 22, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="session-1" class="level1">
<h1>Session 1</h1>
<p>Bienvenue dans la premi√®re le√ßon du cours <strong>Exercices M√©thode II</strong> du Bachelor en sciences de la communication √† l‚ÄôUniversit√© de Fribourg !</p>
<p>Sur cette page, je vous guiderai dans vos premiers pas avec R.</p>
<p>R est un langage de programmation open-source qui vous permet d‚Äôanalyser et de visualiser des donn√©es sur des ph√©nom√®nes de communication int√©ressants.</p>
<p>Pour utiliser R sur votre ordinateur portable, vous devez d‚Äôabord installer les deux logiciels suivants :</p>
<ol type="1">
<li>le langage de programmation <a href="https://cran.r-project.org">R</a></li>
<li>l‚Äôinterface <a href="https://posit.co/download/rstudio-desktop/">RStudio</a></li>
</ol>
<p>Notez que nous n‚Äô√©crirons le code R que dans RStudio, l‚Äôinterface. Le langage de programmation R doit d‚Äôabord √™tre install√©, mais il fonctionnera ensuite en arri√®re-plan. Il n‚Äôest donc pas n√©cessaire d‚Äôouvrir R directement par la suite.</p>
<section id="linterface-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="linterface-rstudio">L‚Äôinterface RStudio</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://docs.posit.co/ide/user/ide/guide/ui/images/rstudio-panes-labeled.jpeg" class="img-fluid figure-img"></p>
<figcaption>Volets RStudio <a href="https://docs.posit.co/ide/user/ide/guide/ui/ui-panes.html">Source : posit.co</a></figcaption>
</figure>
</div>
<p>Dans RStudio, il existe quatre volets diff√©rents :</p>
<ol type="1">
<li>Le volet <strong>source</strong></li>
<li>Le volet <strong>console</strong></li>
<li>Le volet <strong>environnement</strong></li>
<li>Le volet <strong>output</strong></li>
</ol>
</section>
<section id="ex√©cuter-un-script-r" class="level2">
<h2 class="anchored" data-anchor-id="ex√©cuter-un-script-r">Ex√©cuter un script R</h2>
<p>Nous travaillons principalement dans le volet <strong>source</strong>, c‚Äôest l√† que nous √©crivons notre code.</p>
<p>Vous pouvez ouvrir le volet source en cr√©ant un nouveau <strong>R script</strong> (cliquez sur le signe plus vert dans le coin sup√©rieur gauche). Vous pouvez r√©√©crire ou copier-coller le calcul simple suivant et l‚Äôins√©rer dans votre script :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">14</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Une fois que nous avons √©crit du code R dans le script, nous pouvons <strong>l‚Äôex√©cuter</strong> en le s√©lectionnant et en cliquant sur le bouton d‚Äôex√©cution situ√© au-dessus du volet source (le bouton d‚Äôex√©cution avec la fl√®che verte √† qui montre √† droite).</p>
<p>C‚Äôest alors dans le volet de la <strong>console</strong> o√π le r√©sultat va √™tre affich√© :</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 24</code></pre>
</div>
</div>
<p>Notez que le nombre entre crochets indique la ligne du r√©sultat. Ici, il s‚Äôagit de 1 car il n‚Äôy a qu‚Äôune seule ligne.</p>
<p>Voici quelques autres calculs simples, suivi de leurs r√©sultats :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dv">99</span> <span class="sc">-</span> <span class="dv">98</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">*</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dv">100</span><span class="sc">/</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 50</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">^</span><span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1024</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour ex√©cuter le code R plus rapidement, vous pouvez placer votre curseur sur une ligne de code √† ex√©cuter et utiliser les raccourcis clavier suivants :</p>
<ul>
<li><p>Sur <strong>Windows</strong> : <kbd>CTRL</kbd> + <kbd>Enter</kbd></p></li>
<li><p>Sur <strong>MacOS</strong> : <kbd>Command</kbd> + <kbd>Enter</kbd></p></li>
</ul>
</div>
</div>
</section>
<section id="commenter-votre-code-avec-un" class="level2">
<h2 class="anchored" data-anchor-id="commenter-votre-code-avec-un">Commenter votre code avec un <code>#</code></h2>
<p>C‚Äôest une bonne pratique de <strong>commenter</strong> son code R. Les commentaires expliquent ce que le code fait et facilite l‚Äôutilisation ult√©rieure et aussi le partage de code entre personnes (qui ne savent peut-√™tre pas ce que vous vouliez faire avec votre code).</p>
<p>On commente en ajoutant un symbole <strong><code>#</code></strong> au d√©but de la ligne de code, comme ceci :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ceci est un commentaire, et R l'ignorera lors de</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># l'ex√©cution du script.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lop√©rateur-daffectation--" class="level2">
<h2 class="anchored" data-anchor-id="lop√©rateur-daffectation--">L‚Äôop√©rateur d‚Äôaffectation <code>&lt;-</code></h2>
<p>L‚Äôop√©rateur d‚Äôaffectation <strong><code>&lt;-</code></strong> est un op√©rateur cl√© de la programmation R. Il permet d‚Äôattribuer des valeurs aux variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Par exemple, nous pouvons attribuer la valeur 5 √† la</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># variable x :</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Si vous ex√©cutez ce code, une nouvelle variable, <code>x</code>, sera cr√©√©e dans le volet <strong>environnement</strong> en haut √† droite de RStudio.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>En g√©n√©ral, la programmation R parle aussi d‚Äô<strong>objets</strong>, ou de <strong>structures de donn√©es</strong>, que vous pouvez cr√©er. C‚Äôest pourquoi R est √©galement appel√© <strong>langage de programmation orient√© objet</strong>. Les variables √† un √©l√©ment sont des objets tr√®s simples. Au cours de ce cours, nous d√©couvrirons d‚Äôautres types d‚Äôobjets.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous pouvez cr√©er l‚Äôoperateur d‚Äôaffectation <code>&lt;-</code> avec les raccourcis clavier suivants :</p>
<ul>
<li><p>Sur <strong>Windows</strong> : <kbd>Alt</kbd> + <kbd>-</kbd></p></li>
<li><p>Sur <strong>MacOS</strong> : <kbd>Option</kbd> + <kbd>-</kbd></p></li>
</ul>
</div>
</div>
</section>
<section id="variables-√†-√©l√©ment-unique" class="level2">
<h2 class="anchored" data-anchor-id="variables-√†-√©l√©ment-unique">Variables √† √©l√©ment unique</h2>
<p>Vous pouvez <strong>imprimer</strong> (afficher) la valeur d‚Äôune variable que vous avez cr√©√©e, telle que <code>x</code>, en tapant le nom de la variable et en l‚Äôex√©cutant.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled" title="Important">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Veillez toujours √† ex√©cuter votre code pour cr√©er des variables avant de les utiliser pour d‚Äôautres op√©rations. Si vous oubliez de cr√©er les variables en premier, vous obtiendrez une erreur comme r√©sultat.</li>
</ul>
</div>
</div>
<p>Par exemple, essayez d‚Äôex√©cuter ce qui suit : <code>y + z</code></p>
<p>Pourquoi cela cr√©e une erreur ? R√©ponse : les variables <code>y</code> et <code>z</code> n‚Äôon pas encore √©t√© d√©finies !</p>
<p>Pour √©liminer l‚Äôerreur, nous devons donc d√©finir <code>y</code> et <code>z</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Essayons encore une fois :</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>y <span class="sc">+</span> z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
</div>
<p>Maintenant √ßa marche ! üòÄ</p>
<div class="callout callout-style-default callout-important callout-titled" title="Important">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Sachez aussi que si vous attribuez une nouvelle valeur √† une variable existante, l‚Äôancienne valeur sera √©cras√©e !</li>
</ul>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Notez que si vous ex√©cutez toutes les lignes de code</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co"># suivantes, la variable x se voit attribuer la derni√®re</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"># valeur ex√©cut√©e : 4. Les valeurs 5 et 100 sont ecras√©es</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># lors de l'ex√©cution du code.</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<section id="les-diff√©rents-types-de-variable-num√©riques-textuelles-et-logique" class="level3">
<h3 class="anchored" data-anchor-id="les-diff√©rents-types-de-variable-num√©riques-textuelles-et-logique">Les diff√©rents types de variable : num√©riques, textuelles et logique</h3>
<p>Jusqu‚Äô√† pr√©sent, nous avons cr√©√© des variables de <strong>type num√©rique</strong>, telles que <code>x</code> (valeur = 5).</p>
<p>Cependant, ce n‚Äôest pas le seul type de variable dans R.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Dans R, il existe diff√©rents types de variables :</p>
<ul>
<li><p>les variables <strong>num√©riques</strong></p></li>
<li><p>les variables <strong>textuelles</strong>, √©galement appel√©es <em>character strings</em> (cha√Ænes de caract√®res).</p></li>
<li><p>les variables <strong>logiques</strong> avec les valeurs TRUE et FALSE (VRAI et FAUX)</p></li>
</ul>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Regardons quelques exemples avec du code ! (faut tout</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ex√©cuter !)</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># variables num√©riques :</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">77</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>age <span class="ot">&lt;-</span> <span class="dv">21</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>Insta_likes <span class="ot">&lt;-</span> <span class="dv">1539</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="co"># variables textuelles (toujours ajouter des guillemets !)</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="st">"chien"</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="st">"chat"</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>Comm_TikTok <span class="ot">&lt;-</span> <span class="st">"wsh"</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>Moliere <span class="ot">&lt;-</span> <span class="st">"il n‚Äôest rien d‚Äô√©gal au tabac : c‚Äôest la passion des honn√™tes gens"</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="co"># variables logiques :</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>e <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Les variables logiques peuvent √™tre utiles quand vous travaillez avec des <strong>cat√©gories binaires</strong>.</p>
<p>Par exemple : il est souvent utile de classer les personnes ayant r√©pondu √† un questionnaire en cat√©gories binaires, telles que :</p>
<ul>
<li><p>homme/femme</p></li>
<li><p>mineur/majeur</p></li>
<li><p>conservateur/lib√©ral</p></li>
<li><p>etc.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Si Marc √©tait mineur et Claire majeure, nous les</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co"># classerions comme suit :</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>Marc <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>Claire <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Dans cet exemple, la variable logique indique si une</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co"># personne est majeure (TRUE) ou pas (FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="variables-√†-plusieurs-√©l√©ments-vecteurs" class="level2">
<h2 class="anchored" data-anchor-id="variables-√†-plusieurs-√©l√©ments-vecteurs">Variables √† plusieurs √©l√©ments : vecteurs</h2>
<p>Les <strong>vecteurs</strong> constituent un autre type de variable (ou type d‚Äôobjet) essentiel dans la programmation R. Il s‚Äôagit de variables comportant <strong>plusieurs</strong> √©l√©ments.</p>
<p>Vous pouvez cr√©er des vecteurs avec l‚Äôoperateur d‚Äôaffectation <code>&lt;-</code> et la <strong>fonction de concatenation</strong> <code>c()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Voici quelques exemples avec du code ! (faut tout</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ex√©cuter !)</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># un vecteur num√©rique (notez qu'il faut toujours s√©parer</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># les valeurs avec des virgules)</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vous pouvez afficher la valeur de <code>v1</code> en tappant son nom et l‚Äôex√©cutant :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>v1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>En R, une <strong>fonction</strong> est un morceau de code con√ßu pour effectuer une t√¢che sp√©cifique, souvent avec des param√®tres variables. Ces param√®tres d‚Äôentr√©e sont √©galement appel√©s les <strong>arguments</strong> de la fonction.</p>
</div>
</div>
<p>Prenons l‚Äôexemple de la fonction <code>c()</code> qui cr√©e des vecteurs :</p>
<ul>
<li><p>les arguments de cette fonction doivent √™tre ins√©r√©s entre les crochets sous la forme de valeurs s√©par√©es par des virgules (pour chaque √©l√©ment du vecteur).</p></li>
<li><p>Un vecteur √† deux √©l√©ments : <code>c(2, 4)</code></p></li>
<li><p>Un vecteur √† trois √©l√©ments : <code>c(3, 6, 9)</code></p></li>
</ul>
<p>Maintenant, regardons encores quelques exemples de vecteurs de <strong>diff√©rents types</strong> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># vecteurs num√©riques</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">4</span>, <span class="sc">-</span><span class="dv">88</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>likes_comments_shares <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">513</span>, <span class="dv">34</span>, <span class="dv">102</span>)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co"># vecteurs textuels (toujours ajouter des guillemets pour</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co"># chaque √©l√©ment !)</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>animaux <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"chat"</span>, <span class="st">"chien"</span>, <span class="st">"cheval"</span>, <span class="st">"chenille"</span>)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>Comm_Insta <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"trop cool"</span>, <span class="st">"wsh"</span>, <span class="st">"c'est quoi ?"</span>)</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>humains <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Claire"</span>, <span class="st">"Clarissa"</span>, <span class="st">"Theresa"</span>, <span class="st">"Marc"</span>, <span class="st">"Alma"</span>)</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="co"># vecteurs logiques :</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>femme <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Attention
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Dans R, on ne peut g√©n√©ralement pas m√©langer les valeurs num√©riques, textuelles et logiques dans le m√™me vecteur !</p>
</div>
</div>
</div>
</section>
<section id="devoir-pour-session-2" class="level2">
<h2 class="anchored" data-anchor-id="devoir-pour-session-2">Devoir pour Session 2</h2>
<ul>
<li><p>Si ce n‚Äôest pas encore fait : Installez R et RStudio sur votre ordinateur.</p></li>
<li><p>Lisez ensuite encore une fois ce script et ex√©cutez toutes les sections de code sur votre ordinateur.</p></li>
<li><p>Essayez de r√©soudre vous-m√™me les √©ventuels messages d‚Äôerreur en adaptant le code.</p></li>
</ul>
</section>
</section>
<section id="session-2" class="level1">
<h1>Session 2</h1>
<section id="r√©p√©tition-rapide-de-session-1" class="level2">
<h2 class="anchored" data-anchor-id="r√©p√©tition-rapide-de-session-1">R√©p√©tition rapide de session 1</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Script de r√©p√©tition</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Avez-vous compris comment R traite les diff√©rents types</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co"># de variables ?  Quelle est la diff√©rence entre a et b ?</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="st">"5"</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Comment afficher a et b ?</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative : avec la fonction print(), qui augmente la</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="co"># compr√©hension ult√©rieure du code</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Pourquoi le code suivant produit-il une erreur ?</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>a <span class="sc">*</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in a * b: non-numeric argument to binary operator</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Le code suivant corrige √† nouveau l'erreur, pourquoi ?</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>a <span class="sc">*</span> b</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># V√©cteurs</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>v1</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Vous pouvez cr√©ez des nombres succesifs avec un colon :</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>v2</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>v3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"salut"</span>, <span class="st">"le"</span>, <span class="st">"pote"</span>)</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>v4 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous pouvez utiliser la fonction <code>class()</code> pour v√©rifier le type d‚Äôun objet, p.&nbsp;ex. (ex√©cutez vous-m√™me !) :</p>
<ul>
<li><p><code>class(c(1,2,3))</code></p></li>
<li><p><code>class(c("Hello", "World"))</code></p></li>
<li><p><code>class(c(TRUE,TRUE,FALSE))</code></p></li>
</ul>
</div>
</div>
</section>
<section id="donn√©es-en-forme-de-tableau" class="level2">
<h2 class="anchored" data-anchor-id="donn√©es-en-forme-de-tableau">Donn√©es en forme de tableau</h2>
<p>Les donn√©es sous forme de tableaux, avec des lignes et des colonnes, sont au c≈ìur des m√©thodes quantitatives dans les sciences de la communication.</p>
<p>Dans R, il existe plusieurs structures de donn√©es en format de tableau, notamment :</p>
<ul>
<li><p>Les <strong>matrices</strong></p></li>
<li><p>Les <strong>data frames</strong></p></li>
<li><p>D‚Äôautres types, tels que les <strong>tibbles</strong>, qui sont en fait des data frames adapt√©s √† des paquets R sp√©cifiques (nous traiterons ce sujet plus tard dans le cours).</p></li>
</ul>
<div class="callout callout-style-default callout-important callout-titled" title="Important">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Il est de convention qu‚Äôun tableau de donn√©es pr√©sente les <strong>unit√©s statistiques</strong> par <strong>ligne</strong> (angl. <em>row</em>).</li>
<li>Les <strong>variables</strong> ou caract√©ristiques de ces unit√©s statistiques sont indiqu√©es en cons√©quence par <strong>colonnes</strong> (angl. <em>column</em>).</li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Selon le type de donn√©es, surtout en recherche empirique en sciences sociales dont font partie les sciences de la communication, les unit√©s statistiques peuvent √™tre :</p>
<ul>
<li><p>des <strong>participants</strong> √† un questionnaire ou √† une exp√©rimentation</p></li>
<li><p>des <strong>documents</strong> (p.&nbsp;ex. articles de presse, posts sur r√©seaux sociaux)</p></li>
<li><p>des <strong>observations/ cas</strong> (p.&nbsp;ex. des profils sur r√©seaux sociaux, des entreprises m√©diatiques)</p></li>
</ul>
<p>Dans ces jeux de donn√©es, par convention, chaque ligne repr√©sente une unit√© statistique (ou un participant, un document, une observation), tandis que chaque colonne repr√©sente les variables qui ont √©t√© collect√©es pour chaque unit√© statistique.</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>La taille d‚Äôun jeu de donn√©es est indiqu√©e par <strong>le nombre d‚Äôunit√©s statistiques n</strong>.</p>
<ul>
<li>Par exemple, si 49 personnes ont r√©pondu √† un questionnaire, nous parlons donc d‚Äôun √©chantillon de n = 49 participants.</li>
</ul>
</div>
</div>
<p>Voici un mod√®le de la mani√®re dont on devrait structurer les r√©ponses √† un questionnaire avec n participants et X questions :</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>          id  question_A  question_B  question_C etc.  question_X
1 personne_1 r√©ponse_a_A r√©ponse_a_B r√©ponse_a_C  ... r√©ponse_a_X
2 personne_2 r√©ponse_a_A r√©ponse_a_B r√©ponse_a_C  ... r√©ponse_a_X
3 personne_3 r√©ponse_a_A r√©ponse_a_B r√©ponse_a_C  ... r√©ponse_a_X
4       etc.         ...         ...         ...  ...         ...
5 personne_n r√©ponse_a_A r√©ponse_a_B r√©ponse_a_C  ... r√©ponse_a_X</code></pre>
</div>
</div>
<p>Dans ce mod√®le, l‚Äôunit√© statistique de ce jeu de donn√©es est la personne qui a r√©pondue au questionnaire (un participant). Chaque ligne correspond donc √† une personne diff√©rente. Les variables, en revanche, sont les diff√©rentes questions qui ont √©t√© enregistr√©es pour chaque participant.</p>
<p>Regardons maintenant quelques objets R sous forme de tableau :</p>
</section>
<section id="les-matrices" class="level2">
<h2 class="anchored" data-anchor-id="les-matrices">Les matrices</h2>
<p>Les <strong>matrices</strong> sont des objets plut√¥t math√©matique. Elles doivent notamment √™tre compos√© de donn√©es de m√™me type, c‚Äôest √† dire num√©rique, textuel, logique, etc.</p>
<p>On peut cr√©er des objets matriciels avec la commande <strong><code>matrix()</code></strong>, avec les arguments suivants :</p>
<ul>
<li><p>un vecteur de valeurs (p.&nbsp;ex. <code>c(1,2,3,4,5,6)</code>)</p></li>
<li><p>le nombre de lignes (<code>nrow=</code>),</p></li>
<li><p>le nombre de colonnes (<code>ncol=</code>) et</p></li>
<li><p>la <em>direction</em> de remplissage des valeurs, c‚Äôest-√†-dire par lignes (<code>byrow = TRUE</code>) ou par colonnes (<code>byrow = FALSE</code>).</p></li>
</ul>
<p>Cr√©ons quelques matrices exemplaires avec du code R maintenant.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(m1)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(m2)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Quelle est la diff√©rence entre m1 et m2 au niveau du code</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co"># ?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Si vous ne sp√©cifier pas tous les arguments d‚Äôune fonction, R va tenter d‚Äôutiliser des arguments par d√©fauts.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># On peut p. ex. cr√©er une matrice sans sp√©cifier tout les</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co"># arguments de la fonction matrix()</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>m3 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>), <span class="at">nrow =</span> <span class="dv">5</span>)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(m3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    1    6
[2,]    2    7
[3,]    3    8
[4,]    4    9
[5,]    5   10</code></pre>
</div>
</div>
<p>Vous pouvez extraire des √©l√©ments individuels ou des parties d‚Äôune matrice avec des <strong>parenth√®ses carr√©es <code>[]</code></strong> en sp√©cifiant les lignes et les colonnes concern√©es.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cr√©ons d'abord un matrice m4 avec 100 √©l√©ments :</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>m4 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>), <span class="at">nrow =</span> <span class="dv">10</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(m4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1    2    3    4    5    6    7    8    9    10
 [2,]   11   12   13   14   15   16   17   18   19    20
 [3,]   21   22   23   24   25   26   27   28   29    30
 [4,]   31   32   33   34   35   36   37   38   39    40
 [5,]   41   42   43   44   45   46   47   48   49    50
 [6,]   51   52   53   54   55   56   57   58   59    60
 [7,]   61   62   63   64   65   66   67   68   69    70
 [8,]   71   72   73   74   75   76   77   78   79    80
 [9,]   81   82   83   84   85   86   87   88   89    90
[10,]   91   92   93   94   95   96   97   98   99   100</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraire le deuxi√®me √©l√©ment de la troisi√®me ligne :</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>m4[<span class="dv">3</span>, <span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 22</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraire les cinq premiers √©l√©ments de la dixi√®me ligne :</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>m4[<span class="dv">10</span>, <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 91 92 93 94 95</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraire tous les √©l√©ments de la premi√®re ligne :</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>m4[<span class="dv">1</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraire tous les √©l√©ments de la troisi√®me colonne :</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>m4[, <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  3 13 23 33 43 53 63 73 83 93</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraire la moiti√© sup√©rieure de la matrice :</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>m4[<span class="fu">c</span>(<span class="dv">6</span><span class="sc">:</span><span class="dv">10</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
[1,]   51   52   53   54   55   56   57   58   59    60
[2,]   61   62   63   64   65   66   67   68   69    70
[3,]   71   72   73   74   75   76   77   78   79    80
[4,]   81   82   83   84   85   86   87   88   89    90
[5,]   91   92   93   94   95   96   97   98   99   100</code></pre>
</div>
</div>
</section>
<section id="les-data-frames" class="level2">
<h2 class="anchored" data-anchor-id="les-data-frames">Les data frames</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Les <strong>data frames</strong> (fran√ßais : <em>cadre de donn√©es</em>) sont le type de donn√©e en forme tableau le plus commun dans R. Cette structure de donn√©e peut notamment √™tre compos√© de donn√©es de diff√©rents types (num√©rique, textuel, logique).</p>
</div>
</div>
<p>Cr√©ons un data frame avec la fonction <code>data.frame()</code> maintenant. Nous appelons ce type d‚Äôobjets d√©sormais un <strong>jeu de donn√©es</strong>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://upload.wikimedia.org/wikipedia/en/2/24/Ice_Age_Dawn_of_the_Dinosaurs_theatrical_poster.jpg" class="img-fluid figure-img"></p>
<figcaption>Le film √Çge de glace <a href="https://en.wikipedia.org/wiki/File:Ice_Age_Dawn_of_the_Dinosaurs_theatrical_poster.jpg">Source : wikimedia.org</a></figcaption>
</figure>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cr√©ons d'abord un vecteur textuel avec les noms de</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="co"># certains animaux du film L'√¢ge de glace.</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>name <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Manny"</span>, <span class="st">"Sid"</span>, <span class="st">"Diego"</span>, <span class="st">"Ellie"</span>, <span class="st">"Peaches"</span>, <span class="st">"Scrat"</span>,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Rudy"</span>, <span class="st">"Buck"</span>)</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Un second vecteur textuel indique l'esp√®ce de chaque</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="co"># animal.</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>species <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"mammoth"</span>, <span class="st">"sloth"</span>, <span class="st">"sabertooth"</span>, <span class="st">"mammoth"</span>, <span class="st">"mammoth"</span>,</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"squirrel"</span>, <span class="st">"dinosaur"</span>, <span class="st">"weasel"</span>)</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Un troisi√®me vecteur logique indique si chaque animal est</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a><span class="co"># une femelle</span></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>female <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Un quatri√®me vecteur num√©rique indique l'√¢ge en ann√©es de</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a><span class="co"># chaque animal.</span></span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">30</span>, <span class="dv">20</span>, <span class="dv">35</span>, <span class="dv">25</span>, <span class="dv">7</span>, <span class="dv">4</span>, <span class="dv">100</span>, <span class="dv">28</span>)</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Un cinqui√®me tableau num√©rique indique le poids en kg de</span></span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a><span class="co"># chaque animal.</span></span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a>weight <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5000</span>, <span class="dv">80</span>, <span class="dv">400</span>, <span class="dv">4000</span>, <span class="dv">1000</span>, <span class="dv">1</span>, <span class="dv">10000</span>, <span class="dv">3</span>)</span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a><span class="co"># La fonction data.frame() permet d'utiliser les vecteurs</span></span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a><span class="co"># pour former un tableau de donn√©es.</span></span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a>ice_age_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(name, species, female, age, weight)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Nous pouvons afficher l‚Äôobjet <code>ice_age_df</code> en ex√©cutant son nom ou en utilisant la fonction <code>print()</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(ice_age_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     name    species female age weight
1   Manny    mammoth  FALSE  30   5000
2     Sid      sloth  FALSE  20     80
3   Diego sabertooth  FALSE  35    400
4   Ellie    mammoth   TRUE  25   4000
5 Peaches    mammoth   TRUE   7   1000
6   Scrat   squirrel  FALSE   4      1
7    Rudy   dinosaur  FALSE 100  10000
8    Buck     weasel  FALSE  28      3</code></pre>
</div>
</div>
<section id="quelques-fonctions-utiles-pour-analyser-les-data-frames" class="level3">
<h3 class="anchored" data-anchor-id="quelques-fonctions-utiles-pour-analyser-les-data-frames">Quelques fonctions utiles pour analyser les data frames</h3>
<p>Il existe plusieurs <strong>fonctions utiles</strong> dans R qui vous permettent d‚Äôanalyser les propri√©t√©s de jex de donn√©es de type data frame (et d‚Äôautres types d‚Äôobjets R), comme p.&nbsp;ex. :</p>
<ul>
<li><p><code>dim()</code> : Retourne les dimensions d‚Äôun jeu de donn√©es - le nombre de lignes et de colonnes.</p></li>
<li><p><code>head()</code> : Affiche les six premi√®res lignes du jeu de donn√©es.</p></li>
<li><p><code>str()</code> : Fournit la structure du jeu de donn√©es, y compris</p>
<ul>
<li><p>le type de variable de chaque colonne,</p></li>
<li><p>le nombre d‚Äôobservations et</p></li>
<li><p>les premi√®res entr√©es de chaque colonne.</p>
<p>C‚Äôest un moyen rapide de se faire une id√©e du contenu de votre jeu de donn√©es.</p></li>
</ul></li>
<li><p><code>summary()</code>: Donne un r√©sum√© du jeu de donn√©es, y compris des statistiques telles que</p>
<ul>
<li><p>la moyenne,</p></li>
<li><p>la m√©diane,</p></li>
<li><p>le minimum et le maximum pour les variables num√©riques, et</p></li>
<li><p>les fr√©quences pour les variables factorielles.</p>
<p>Cette fonction est utile pour obtenir rapidement une vue d‚Äôensemble des statistiques.</p></li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Utilisons ces fonctions pour analyser l'objet ice_age_df</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(ice_age_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ice_age_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     name    species female age weight
1   Manny    mammoth  FALSE  30   5000
2     Sid      sloth  FALSE  20     80
3   Diego sabertooth  FALSE  35    400
4   Ellie    mammoth   TRUE  25   4000
5 Peaches    mammoth   TRUE   7   1000
6   Scrat   squirrel  FALSE   4      1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(ice_age_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   8 obs. of  5 variables:
 $ name   : chr  "Manny" "Sid" "Diego" "Ellie" ...
 $ species: chr  "mammoth" "sloth" "sabertooth" "mammoth" ...
 $ female : logi  FALSE FALSE FALSE TRUE TRUE FALSE ...
 $ age    : num  30 20 35 25 7 4 100 28
 $ weight : num  5000 80 400 4000 1000 1 10000 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ice_age_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     name             species            female             age        
 Length:8           Length:8           Mode :logical   Min.   :  4.00  
 Class :character   Class :character   FALSE:6         1st Qu.: 16.75  
 Mode  :character   Mode  :character   TRUE :2         Median : 26.50  
                                                       Mean   : 31.12  
                                                       3rd Qu.: 31.25  
                                                       Max.   :100.00  
     weight        
 Min.   :    1.00  
 1st Qu.:   60.75  
 Median :  700.00  
 Mean   : 2560.50  
 3rd Qu.: 4250.00  
 Max.   :10000.00  </code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Une autre astuce utile consiste √† utiliser le <strong><code>$</code></strong> pour <strong>extraire des colonnes sp√©cifiques</strong> d‚Äôun jeu de donn√©es.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># P. ex. :</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>ice_age_df<span class="sc">$</span>name</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Manny"   "Sid"     "Diego"   "Ellie"   "Peaches" "Scrat"   "Rudy"   
[8] "Buck"   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Essayez vous-m√™me et extrayez d'autres colonnes de</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ice_age_df √† l'aide du $ !</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="fonctions-statistiques-de-base" class="level2">
<h2 class="anchored" data-anchor-id="fonctions-statistiques-de-base">Fonctions statistiques de base</h2>
<p>Il existe dans R toute une palette de fonctions statistiques qui vous permettent d‚Äô√©valuer principalement des donn√©es de type num√©rique. Quelques fonctions utiles pour les statistiques descriptives de base :</p>
<ul>
<li><p><code>mean()</code> : Calcule la moyenne arithm√©tique</p></li>
<li><p><code>median()</code> : Calcule la m√©diane</p></li>
<li><p><code>sd()</code> : Calcule l‚Äô√©cart-type (angl. <em>standard deviation</em>)</p></li>
<li><p><code>var()</code> : Calcule la variance</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>a1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">100</span>)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(a1)</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(a1)</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(a1)</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(a1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 34.33333</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 56.8712</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3234.333</code></pre>
</div>
</div>
</section>
<section id="les-facteurs" class="level2">
<h2 class="anchored" data-anchor-id="les-facteurs">Les facteurs</h2>
<p>Un autre type de variable cl√© dans R est ce que l‚Äôon appelle les <strong>facteurs</strong>, qui sont essentiellement des <strong>variables cat√©gorielles</strong>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Les facteurs sont des variables qui prennent un nombre limit√© de valeurs diff√©rentes (appel√©es <em>levels</em> dans R).</p>
<p>Il existe deux sous-type de facteurs :</p>
<ul>
<li><p>Les <strong>facteurs nominaux</strong> (sans ordre) : toutes les cat√©gories sont √©quivalentes les unes aux autres. Il n‚Äôy a pas de hi√©rarchisation.</p>
<ul>
<li>Exemples : le genre et l‚Äôappartenance √† un parti</li>
</ul></li>
<li><p>Les <strong>facteurs ordinaux</strong> (avec un ordre): il y a un ordre ou une hi√©rarchie sp√©cifi√© parmi les cat√©gories (p.&nbsp;ex. des niveaux tels que <em>faible</em>, <em>moyen</em>, <em>√©lev√©</em>).</p>
<ul>
<li>Exemples : niveau d‚Äô√©ducation, cohortes d‚Äô√¢ge</li>
</ul></li>
</ul>
</div>
</div>
<p>Vous pouvez cr√©er un facteur nominal √† l‚Äôaide de la fonction <code>factor()</code> et v√©rifier ses cat√©gories avec <code>levels()</code>. Voici un exemple :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cr√©er un vecteur de donn√©es cat√©gorielles, d'abord de</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="co"># type textuel</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>genre <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"homme"</span>, <span class="st">"femme"</span>, <span class="st">"femme"</span>, <span class="st">"femme"</span>, <span class="st">"homme"</span>)</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Le convertir ensuite en facteur</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>facteur_genre <span class="ot">&lt;-</span> <span class="fu">factor</span>(genre)</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Voir les niveaux du facteur genre</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(facteur_genre)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "femme" "homme"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimer le facteur (montre aussi les niveaux)</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(facteur_genre)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] homme femme femme femme homme
Levels: femme homme</code></pre>
</div>
</div>
<p>Et voici comment cr√©er un facteur ordinal :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Voici un vecteur textuel avec des tailles de T-shirt</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>tailles <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Small"</span>, <span class="st">"Medium"</span>, <span class="st">"Large"</span>, <span class="st">"Medium"</span>, <span class="st">"Small"</span>)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="co"># On le transforme en facteur ordinal en sp√©cifiant les</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="co"># arguments suivants :</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>tailles_facteur <span class="ot">&lt;-</span> <span class="fu">factor</span>(tailles, <span class="at">order =</span> <span class="cn">TRUE</span>, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Small"</span>,</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Medium"</span>, <span class="st">"Large"</span>))</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(tailles_facteur)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Small"  "Medium" "Large" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(tailles_facteur)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Small  Medium Large  Medium Small 
Levels: Small &lt; Medium &lt; Large</code></pre>
</div>
</div>
<p>Transformons maintenant la colonne <code>species</code> de notre jeu de donn√©es <code>ice_age_df</code> en facteur avec la fonction <code>as.factor()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># V√©rifions d'abord la structure de l'objet ice_age_df :</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(ice_age_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   8 obs. of  5 variables:
 $ name   : chr  "Manny" "Sid" "Diego" "Ellie" ...
 $ species: chr  "mammoth" "sloth" "sabertooth" "mammoth" ...
 $ female : logi  FALSE FALSE FALSE TRUE TRUE FALSE ...
 $ age    : num  30 20 35 25 7 4 100 28
 $ weight : num  5000 80 400 4000 1000 1 10000 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transformation en facteur : ice_age_df$species &lt;-</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="co"># as.factor(ice_age_df$species)</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a><span class="co"># V√©rifions encore une fois la structure de l'objet :</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a><span class="co"># str(ice_age_df)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>C‚Äôest maintenant √† vous de transformer la colonne <code>name</code> de <code>ice_age_df</code>en facteur !</p>
</section>
<section id="le-r√©p√©rtoire-de-travail" class="level2">
<h2 class="anchored" data-anchor-id="le-r√©p√©rtoire-de-travail">Le r√©p√©rtoire de travail</h2>
<div class="callout callout-style-default callout-important callout-titled" title="Important">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Dans R, le <strong>r√©pertoire de travail</strong> (angl. <em>working directory</em>) fait r√©f√©rence au dossier de votre ordinateur dans lequel R lit et enregistre les fichiers par d√©faut. Il s‚Äôagit d‚Äôun concept crucial dans la programmation R, car il d√©termine l‚Äôendroit o√π R recherche les fichiers √† lire et l‚Äôendroit o√π il place les fichiers lorsque vous les enregistrez.</p>
</div>
</div>
<p>Vous pouvez d√©finir votre r√©pertoire de travail avec la fonction <strong><code>setwd()</code></strong>.</p>
<p>Une possibilit√©, c‚Äôest de le faire manuellement dans le volet <em>output</em> en bas √† droite :</p>
<ol type="1">
<li>Naviguez sur l‚Äôonglet <strong>Files</strong></li>
<li>Cliquez sur les trois petits points <strong>‚Ä¶</strong> tout √† droite</li>
<li>Choisissez un dossier sur votre ordinateur qui peut servir de r√©pertoire de travail (vous devez peut-√™tre en cr√©er un d‚Äôabord et lui donner un nom utile, p.ex. ‚Äúex_meth_sp24‚Äù</li>
<li>Cliquez ensuite sur la petite <strong>roue bleue</strong> (More) et choisissez <strong>Set as Working Directory</strong></li>
<li>Vous pouvez ensuite copier et coller le code R qui d√©finit le r√©pertoire de travail depuis l‚Äôonglet de la console et l‚Äôinclure dans votre script R</li>
</ol>
<p>Sur l‚Äôordinateur de l‚Äôenseignant, ce code est le suivant : <code>setwd("C:/Users/julim/switchdrive/001_Exercices_Methodes_2_SP_22/R")</code> <strong>Attention</strong> : Ce code ne marche naturellement pas sur votre machine. Il faut l‚Äôadapter et inclure un chemin de fichier de votre ordinateur.</p>
<p>Vous pouvez ensuite v√©rifier si le r√©pertoire de travail a √©t√© correctement d√©fini avec la fonction <code>getwd()</code></p>
</section>
<section id="devoir-pour-session-3-problem-set-1" class="level2">
<h2 class="anchored" data-anchor-id="devoir-pour-session-3-problem-set-1">Devoir pour Session 3 (Problem Set 1)</h2>
<ul>
<li><p><strong>Problem Set 1</strong></p>
<ul>
<li><p>Le Problem Set 1 est un QCM sur Moodle qui sera accessible pendant les 30 premi√®res minutes de l‚Äôexercice.</p></li>
<li><p>Assurez-vous que R et RStudio fonctionnent sur votre ordinateur portable et qu‚Äôil a suffisamment de batterie. Il est de votre responsabilit√© de vous en assurer.</p></li>
<li><p>Dans le Problem Set 1, il y a √† la fois des questions que vous devez r√©soudre avec du code R et des questions de compr√©hension qui peuvent √™tre r√©solues sans code. Vous devez donc √™tre capable non seulement d‚Äôex√©cuter le code, mais aussi d‚Äôen comprendre l‚Äôobjectif.</p></li>
<li><p>R√©p√©tez le contenu des sessions 1 et 2 sur votre ordinateur afin de bien vous pr√©parer pour le Problem Set 1.</p></li>
<li><p>Assurez-vous que toutes les parties du code fonctionnent sans message d‚Äôerreur.</p></li>
</ul></li>
<li><p><strong>Attention</strong> :</p>
<ul>
<li><p>Vous devez tous venir la semaine prochaine dans le groupe dans lequel vous √™tes inscrits via my.unifr (A, B, C, D) si vous voulez participer au Problem Set 1.</p></li>
<li><p>Chaque √©tudiant.e n‚Äôaura acc√®s qu‚Äôau Problem Set 1 de son groupe.</p></li>
<li><p>Les personnes qui ne sont inscrites dans aucun groupe ne peuvent pas valider le Problem Set 1.</p></li>
</ul></li>
</ul>
</section>
</section>
<section id="session-3-problem-set-1" class="level1">
<h1>Session 3 (Problem Set 1)</h1>
<p>Les r√©sultats du <strong>Problem Set 1</strong> (bonnes r√©ponses, √©chelle des notes) sont acc√©ssibles sur la page Moodle de l‚Äôexercices.</p>
<p>Voici l‚Äôhistogramme des points obtenus par n = 81 √©tudiant.es qui ont particip√© au Problem Set 1. Le nombre maximal de points √©tait de 20, il fallait 10 pour passer le test.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="session-4" class="level1">
<h1>Session 4</h1>
<p>La session 4 a pour but d‚Äôintroduire trois √©l√©ments fondamentaux en analyse de donn√©es avec R :</p>
<ol type="1">
<li>Installer et charger des <strong>paquets R</strong> sur son ordinateur</li>
<li>Utiliser des <strong>jeux de donn√©es int√©gr√©s en R</strong> pour s‚Äôentra√Æner en analyse de donn√©es</li>
<li>Apprendre √† utiliser le paquet <strong>ggplot2</strong> pour cr√©er des visualisations de donn√©es</li>
</ol>
<section id="les-paquets-r" class="level2">
<h2 class="anchored" data-anchor-id="les-paquets-r">Les paquets R</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Dans la programmation R, un <strong>paquet</strong> (angl. <em>package</em>) est un ensemble de fonctions, de donn√©es et de code compil√© dans un format bien d√©fini.</p>
<p>Les paquets √©tendent les fonctionnalit√©s de R de base en fournissant des outils suppl√©mentaires pour l‚Äôanalyse des donn√©es, la visualisation, l‚Äôapprentissage automatique, la mod√©lisation statistique et beaucoup d‚Äôautres applications sp√©cialis√©es.</p>
<p>Les paquets R peuvent √™tre d√©velopp√©s par n‚Äôimporte qui et partag√©s gratuitement avec d‚Äôautres (open source). Par cons√©quent, une grande multitude de paquets R sont disponibles.</p>
</div>
</div>
<p>Notez que la plupart des paquets R doit √™tre install√© s√©par√©ment, normalement depuis le site <a href="http://cran.r-project.org">Comprehensive R Archive Network (CRAN)</a>. Dans ce cours, nous nous concentrerons sur deux paquets c√©l√®bres :</p>
<ul>
<li><p><code>ggplot2</code> pour cr√©er des <strong>visualisations de donn√©es</strong></p></li>
<li><p><code>dplyr</code> pour <strong>manipuler les jeux de donn√©es</strong></p></li>
</ul>
<p>Tous deux font partie du <a href="https://www.tidyverse.org">tidyverse</a>, une collection de paquets con√ßus pour la science des donn√©es. Nous utiliserons √©galement le paquet suivant :</p>
<ul>
<li><code>ggthemes</code> pour <strong>augmenter le design des graphiques</strong></li>
</ul>
<p>Pour utiliser un paquet R sur votre ordinateur, il faut :</p>
<ol type="1">
<li>D‚Äôabord <strong>installer</strong> le paquet en question avec la fonction <code>install.packages()</code>. Cela peut durer quelques minutes.</li>
<li>Ensuite <strong>activer</strong> le paquet avec la fonction <code>library()</code>.</li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Dans RStudio, on peut aussi installer les paquets via l‚Äôonglet <strong>Tools</strong> et le menu d√©roulant : Cliquez sur <em>Install Packages</em>‚Ä¶ et cherchez les paquets que vous voulez installer.</p>
</div>
</div>
<p>Utilisez le code suivant pour installer les paquets R requis pour notre cours. Enlevez les croisillons, √©x√©cutez le code avec <code>install.packages()</code> puis r√©ajouter les croisillons pour √©viter de r√©installer les paquets chaque fois que vous √©x√©cutez le code dans votre script ! Activer ensuite les paquets avec <code>library()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages('tidyverse')</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages('ggthemes')</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>√Ä noter : <code>ggplot2</code> et <code>dplyr</code> sont install√©s avec le <code>tidyverse</code>, il ne faut donc plus les installer s√©par√©ment.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-20-contents" aria-controls="callout-20" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Attention
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-20" class="callout-20-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Notez qu‚Äôune fois install√©, vous n‚Äôavez pas besoin de le r√©installer les paquets √† chaque fois avec <code>install.packages()</code>. Cependant, vous devez <strong>activer</strong> tous les paquets R que vous voulez utiliser dans une session avec la commande <code>library()</code>. Sans activation, vous allez recevoir des messages d‚Äôerreur.</p>
</div>
</div>
</div>
<p>Certains paquets ont des documentations auxquelles vous pouvez acc√©der gr√¢ce au point d‚Äôinterrogation. Ces infos sont affich√©s dans le volet <em>Output</em> sous l‚Äôonglet <em>Help</em>.</p>
<ul>
<li><p><code>?ggplot2</code></p></li>
<li><p><code>?dplyr</code></p></li>
</ul>
<p>En ligne, vous pouvez √©galement trouver de nombreuses ressources qui expliquent en d√©tail les fonctionnalit√©s des diff√©rents paquets R et vous renvoient vers d‚Äôautres livres, tutoriels, cours, etc., p.&nbsp;ex. :</p>
<ul>
<li><p><a href="https://ggplot2.tidyverse.org/index.html">Documentation officielle de <code>ggplot2</code></a></p></li>
<li><p><a href="https://dplyr.tidyverse.org">Documentation officielle de <code>dplyr</code></a></p></li>
<li><p><a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/">Exemples de graphiques cr√©es avec les diff√©rents designs de <code>ggthemes</code></a></p></li>
</ul>
<p>Vous pouvez v√©rifier quels paquets sont <strong>actuellement install√©s sur votre ordinateur</strong> avec la fonction <code>installed.packages()</code> (vous pouvez laisser vide l‚Äôespace entre parenth√®ses) :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">installed.packages</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="les-jeux-de-donn√©es-int√©gr√©s" class="level2">
<h2 class="anchored" data-anchor-id="les-jeux-de-donn√©es-int√©gr√©s">Les jeux de donn√©es int√©gr√©s</h2>
<p>Une excellente fa√ßon, et probablement la plus efficace, d‚Äôapprendre √† utiliser R pour l‚Äôanalyse de donn√©es consiste √† travailler avec des <strong>jeux de donn√©es int√©gr√©s dans R</strong>.</p>
<p>Ces jeux de donn√©es exemplaires pr√©sentent deux avantages principaux.</p>
<ol type="1">
<li>Il est facile d‚Äôy acc√©der et de les charger dans votre session RStudio, car ils sont int√©gr√©s √† R et √† certains de ses paquets.</li>
</ol>
<p>Cela les distingue fortement des donn√©es du ‚Äúmonde r√©el‚Äù, comme les donn√©es de questionnaires ou de m√©dias sociaux, qu‚Äôil faut souvent d‚Äôabord nettoyer et formater, puis importer dans RStudio sous forme de fichiers externes. Avec les jeux de donn√©es int√©gr√©s, vous pouvez imm√©diatement commencer l‚Äôanalyse et la visualisation des donn√©es.</p>
<ol start="2" type="1">
<li>Ces jeux de donn√©es ont prouv√© leur utilit√© dans d‚Äôinnombrables supports d‚Äôapprentissage.</li>
</ol>
<p>Par cons√©quent, vous pouvez facilement trouver des ressources suppl√©mentaires et des exemples de code √† leur sujet.</p>
<p>Dans ce qui suit, nous allons explorer quatre jeux de donn√©es classiques de ce type :</p>
<ul>
<li><p><code>iris</code></p></li>
<li><p><code>mtcars</code></p></li>
<li><p><code>diamonds</code></p></li>
<li><p><code>palmerpenguins</code></p></li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous pouvez afficher les jeux de donn√©es qui sont actuellement acc√©ssible sur votre ordinateur avec la commande <code>data().</code></p>
</div>
</div>
<section id="le-jeu-de-donn√©es-iris" class="level3">
<h3 class="anchored" data-anchor-id="le-jeu-de-donn√©es-iris">le jeu de donn√©es <code>iris</code></h3>
<p>Le jeu de donn√©es <code>iris</code> est un ensemble de donn√©es c√©l√®bre qui contient les mesures en centim√®tres des variables longueur et largeur du s√©pale, ainsi que longueur et largeur du p√©tale, pour trois exp√®ces de fleurs d‚Äôiris (Setosa, Virginica et Versicolor). Il y a 150 observations en total (50 pour chaque esp√®ce).</p>
<p>Le jeu de donn√©es a √©t√© rendu c√©l√®bre par le statisticien et biologiste britannique <strong>Ronald Fisher</strong> dans un article scientifique de 1936 qui avait beaucoup d‚Äôinfluence dans le domaine des statistiques. Les donn√©es d‚Äôiris eux-m√™me ont √©t√© r√©colt√© par le botaniste Edgar Anderson en 1935 sur la p√©ninsule de Gasp√©sie au Qu√©b√©c, Canada.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-22-contents" aria-controls="callout-22" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Plus sur Ronald Fisher
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-22" class="callout-22-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Ronald Fisher (1890-1962) √©tait un statisticien, g√©n√©ticien et biologiste britannique qui a jou√© un r√¥le crucial dans le d√©veloppement de la science statistique moderne. Il est connu pour son travail dans le d√©veloppement des fondements des m√©thodes statistiques, incluant l‚Äôanalyse de variance (ANOVA), le test exact de Fisher et l‚Äôestimation du maximum likelihood. Fisher a √©galement apport√© des contributions significatives en g√©n√©tique, o√π son travail sur la th√©orie de la s√©lection naturelle et la g√©n√©tique des populations a aid√© √† combler le foss√© entre la g√©n√©tique mend√©lienne et l‚Äô√©volution darwinienne. Il est consid√©r√© comme l‚Äôun des architectes principaux de la synth√®se n√©o-darwinienne. Son influence s‚Äô√©tend au-del√† de la statistique et de la g√©n√©tique aux domaines plus larges de la biologie et de la recherche agricole, faisant de lui une figure pivotale de la science du 20e si√®cle.</p>
</div>
</div>
</div>
<p><a title="Diego Mariano, CC BY-SA 4.0 <https://creativecommons.org/licenses/by-sa/4.0>, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:Flores_de_%C3%8Dris.png"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Flores_de_%C3%8Dris.png/512px-Flores_de_%C3%8Dris.png" alt="Flores de √çris" width="512"></a></p>
<p>Il y a des statistiques sur trois esp√®ces d‚Äôiris dans le jeu de donn√©es <a href="https://commons.wikimedia.org/wiki/File:Flores_de_√çris.png">Source : wikimedia.org</a></p>
<p>Dans l‚Äôapprentissage de R, ce jeu de donn√©es est souvent utilis√© pour illustrer diverses techniques d‚Äôanalyse de donn√©es, y compris le clustering, la classification et la visualisation.</p>
<p>Explorons un peu le jeu de donn√©es <code>iris</code> avec du code !</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(iris)  <span class="co"># Ceci affiche le nombre de lignes et de colonnes)</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris)  <span class="co"># Affiche les six premi√®res lignes</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(iris)  <span class="co"># Informations sur la structure du jeu de donn√©es</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(iris)  <span class="co"># Affiche les noms des colonnes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Regardons ce que √ßa donne apr√®s l‚Äô√©x√©cution de chaque ligne de code :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 150   5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1          5.1         3.5          1.4         0.2  setosa
2          4.9         3.0          1.4         0.2  setosa
3          4.7         3.2          1.3         0.2  setosa
4          4.6         3.1          1.5         0.2  setosa
5          5.0         3.6          1.4         0.2  setosa
6          5.4         3.9          1.7         0.4  setosa</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   150 obs. of  5 variables:
 $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
 $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
 $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
 $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
 $ Species     : Factor w/ 3 levels "setosa","versicolor",..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Sepal.Length" "Sepal.Width"  "Petal.Length" "Petal.Width"  "Species"     </code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous pouvez consulter la documentation pour beaucoup de jeux de donn√©es avec un point d‚Äôinterrogation : <code>?iris()</code>.</p>
</div>
</div>
</section>
<section id="le-jeu-de-donn√©es-mtcars" class="level3">
<h3 class="anchored" data-anchor-id="le-jeu-de-donn√©es-mtcars">le jeu de donn√©es <code>mtcars</code></h3>
<p>Utilisez le script suivant pour analyser <code>mtcars</code>(lisez √©galement la documentation avec <code>?mtcars</code>) !</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Chargez le jeu de donn√©es mtcars. Il devrait appara√Ætre</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="co"># dans l'environnement</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Affichez mtcars</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>mtcars</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a><span class="co"># vous pouvez explorer mtcars manuellement en double</span></span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a><span class="co"># cliquant dessus dans l'environnement</span></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Affichez seulement les six premi√®res observations</span></span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mtcars)</span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Affichez seulement les six derni√®res observations</span></span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(mtcars)</span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Appliquez quelques autres commandes pour explorer ce jeu</span></span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a><span class="co"># de donn√©es</span></span>
<span id="cb87-19"><a href="#cb87-19" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mtcars)</span>
<span id="cb87-20"><a href="#cb87-20" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(mtcars)</span>
<span id="cb87-21"><a href="#cb87-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-22"><a href="#cb87-22" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mtcars)</span>
<span id="cb87-23"><a href="#cb87-23" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mtcars)</span>
<span id="cb87-24"><a href="#cb87-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-25"><a href="#cb87-25" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(mtcars)  <span class="co"># cette commande marche seulement si vous avez activ√© le tidyverse</span></span>
<span id="cb87-26"><a href="#cb87-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-27"><a href="#cb87-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraire la colonne mpg ('miles per gallon') avec le</span></span>
<span id="cb87-28"><a href="#cb87-28" aria-hidden="true" tabindex="-1"></a><span class="co"># signe $ et calculer la moyenne, la m√©dianne, le minimum</span></span>
<span id="cb87-29"><a href="#cb87-29" aria-hidden="true" tabindex="-1"></a><span class="co"># et le maximum</span></span>
<span id="cb87-30"><a href="#cb87-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-31"><a href="#cb87-31" aria-hidden="true" tabindex="-1"></a>mtcars<span class="sc">$</span>mpg</span>
<span id="cb87-32"><a href="#cb87-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-33"><a href="#cb87-33" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(mtcars<span class="sc">$</span>mpg)</span>
<span id="cb87-34"><a href="#cb87-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-35"><a href="#cb87-35" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(mtcars<span class="sc">$</span>mpg)</span>
<span id="cb87-36"><a href="#cb87-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-37"><a href="#cb87-37" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(mtcars<span class="sc">$</span>mpg)</span>
<span id="cb87-38"><a href="#cb87-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-39"><a href="#cb87-39" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(mtcars<span class="sc">$</span>mpg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a title="Jeremy from Sydney, Australia, CC BY 2.0 <https://creativecommons.org/licenses/by/2.0>, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:1974_Toyota_Corolla_(KE20)_L_2-door_sedan_(20538771443).jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/1974_Toyota_Corolla_%28KE20%29_L_2-door_sedan_%2820538771443%29.jpg/512px-1974_Toyota_Corolla_%28KE20%29_L_2-door_sedan_%2820538771443%29.jpg" alt="1974 Toyota Corolla (KE20) L 2-door sedan (20538771443)" width="512"></a></p>
<p>Un des mod√®les de mtcars : Le Toyota Corolla de 1974. <a href="https://commons.wikimedia.org/wiki/File:1974_Toyota_Corolla_(KE20)_L_2-door_sedan_(20538771443).jpg">Source : wikimedia.org</a></p>
</section>
<section id="le-jeu-de-donn√©es-diamonds" class="level3">
<h3 class="anchored" data-anchor-id="le-jeu-de-donn√©es-diamonds">le jeu de donn√©es <code>diamonds</code></h3>
<p>C‚Äôest maintenant √† vous d‚Äôexplorer ce jeu de donn√©es avec du code !</p>
<p>Utilisez √©galement <code>?diamonds()</code> !</p>
<p><a title="Jerry Cone, Public domain, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:Diamond-1128734.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Diamond-1128734.jpg/512px-Diamond-1128734.jpg" alt="Diamond-1128734" width="512"></a></p>
<p>Qu‚Äôest-ce qui d√©finit le prix d‚Äôun diamant ? <a href="https://commons.wikimedia.org/wiki/File:Diamond-1128734.jpg">Source : wikimedia.org</a></p>
</section>
</section>
<section id="introduction-aux-visualisations-avec-ggplot2" class="level2">
<h2 class="anchored" data-anchor-id="introduction-aux-visualisations-avec-ggplot2">Introduction aux visualisations avec <code>ggplot2</code></h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>ggplot2</code>, qui fait partie du <code>tidyverse</code>, est un paquet de visualisation de donn√©es tr√®s populaire dans R. Il a √©t√© con√ßu pour faciliter la cr√©ation de graphiques complexes et multicouches avec une syntaxe coh√©rente et consistante nomm√©e <em>grammar of graphics</em>.</p>
<p><em>ggplot2</em> est donc un acronyme form√© √† partir des mots <em>grammar of graphics plots</em> (fran√ßais : <em>grammaire des graphiques</em>). Le ‚Äú2‚Äù dans ggplot2 indique simplement la deuxi√®me g√©n√©ration de ce paquet R.</p>
<p>Avec <code>ggplot2</code>, les utilisateurs peuvent construire des graphiques de mani√®re incr√©mentale en ajoutant des couches, ce qui le rend flexible pour une large gamme de besoins graphiques. Cela permet de cr√©er des visualisations hautement personnalisables et esth√©tiquement attrayantes, allant de simples diagrammes de dispersion √† des figures multi-panneaux complexes.</p>
</div>
</div>
<p>Le tableau suivant d√©crit les couches d‚Äôun graphique ggplot :</p>
<table class="table">
<caption>Les couches d‚Äôun graphique ggplot</caption>
<colgroup>
<col style="width: 31%">
<col style="width: 29%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="header">
<th>Couche</th>
<th style="text-align: left;">D√©scription/Variables</th>
<th style="text-align: center;">Obligatoire ?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><em>data</em></td>
<td style="text-align: left;">le jeu de donn√©es que nous voulons visualiser</td>
<td style="text-align: center;">oui</td>
</tr>
<tr class="even">
<td><em>aesthetics</em></td>
<td style="text-align: left;">le <em>mapping</em> de nos variables : axes <em>x</em> et <em>y</em>, <em>color</em>, <em>fill</em>, <em>alpha</em>, <em>line width</em>, etc.</td>
<td style="text-align: center;">oui</td>
</tr>
<tr class="odd">
<td><em>geometries</em></td>
<td style="text-align: left;">le type visuel du graphique : <em>point</em>, <em>line</em>, <em>histogram</em>, <em>bar</em>, <em>boxplot</em></td>
<td style="text-align: center;">oui</td>
</tr>
<tr class="even">
<td><em>themes</em></td>
<td style="text-align: left;">Le design du graphique</td>
<td style="text-align: center;">non</td>
</tr>
<tr class="odd">
<td>Autres couches optionelles : <em>facets</em>, <em>statistics</em>, <em>coordinates</em></td>
<td style="text-align: left;">Pour des visualisations plus complexes</td>
<td style="text-align: center;">non</td>
</tr>
</tbody>
</table>
<p>Pour comprendre comment cela fonctionne, voici un exemple de code dans lequel les diff√©rentes couches d‚Äôun graphique <em>ggplot</em> sont ajout√©es √©tape par √©tape dans la fonction <code>ggplot()</code>. (Normalement, nous ne proc√©derions pas ainsi, mais utiliserions directement le code en entier pour cr√©er le graphique).</p>
<p>Le but dans cet exemple est de visualiser le jeu de donn√©es <code>diamonds</code> pour comprendre la relation entre les variables <code>price</code> (prix) et <code>carat</code> (poids) des diamants dans le jeu de donn√©es !</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Important : avant d‚Äôanalyser un ensemble de donn√©es, il faut toujours acqu√©rir des <strong>connaissances contextuelles</strong> sur ce que les donn√©es repr√©sentent.</p>
<p>Dans notre exemple, il s‚Äôagit de diamants. Dans le monde des diamants, il est important de comprendre qu‚Äôil existe <strong>quatre crit√®res de qualit√©</strong> qui d√©terminent <strong>la valeur</strong> (donc le prix) d‚Äôun diamant. Ce sont les suivants :</p>
<ul>
<li><p>La taille (angl. <em>cut</em>)</p></li>
<li><p>La puret√© (<em>clarity</em>)</p></li>
<li><p>La couleur (<em>color</em>)</p></li>
<li><p>Le poids en carats (<em>carat</em>)</p></li>
</ul>
<p>En anglais, on parle donc aussi des 4C. Le jeu de donn√©es <code>diamonds</code> contient pr√©cis√©ment ces variables.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># La premi√®re couche, data, d√©finit le jeu de donn√©es</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Notre graphique n‚Äôest pour l‚Äôinstant qu‚Äôune zone grise ! Catastrophe ? Bien s√ªr que non üòÄ. Nous devons maintenant d√©finir les autres param√®tres de la fonction <code>ggplot()</code> !</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># La deuxi√®me couche, aesthetics, d√©finit le mapping de nos</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="co"># variables sur les axes y et x</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>La zone grise a maintenant re√ßu des unit√©s pour ses axes x (<code>carat</code>) et y (<code>price</code>). Mais il n‚Äôy a toujours pas de donn√©es affich√©es !</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># La troisi√®me couche, geometries, d√©finit le type visuel</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="co"># de notre graphique</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price)) <span class="sc">+</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Ouf, si vous avez ex√©cut√© le dernier code, vous avez maintenant 53 940 points de donn√©es affich√©es dans votre graphique ! Car il y a tant d‚Äôobservations dans le jeu de donn√©es <code>diamonds</code>.</p>
<p>Bon courage si vous avez un vieil ordinateur, cela peut prendre un certain temps avant que R ne produise le graphique‚Ä¶</p>
<p>Mais jetons un coup d‚Äô≈ìil au graphique. Qu‚Äôest-ce qui saute aux yeux, pouvez-vous d√©j√† identifier des tendances ?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># On peut maintenant encore optimiser notre graphique</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price, <span class="at">color =</span> clarity)) <span class="sc">+</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Vous avez remarqu√© ce qui a chang√© dans le code ?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajoutons encore une couche optionnelle mais utile au</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="co"># graphique : labs() nous permet d'ajouter et de</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="co"># personnaliser des titres, sout-titres, titre d'axes,</span></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="co"># titres de l√©gendes, etc. !</span></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price, <span class="at">color =</span> clarity)) <span class="sc">+</span></span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"La relation entre prix et carat des diamants"</span>,</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"n = 53 940 diamants"</span>, <span class="at">y =</span> <span class="st">"Prix"</span>, <span class="at">x =</span> <span class="st">"Carat"</span>,</span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">"Puret√©"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Maintenant il s‚Äôagit d‚Äôinterpr√©ter le graphique. Que nous dit-il sur la relation entre prix et carats des diamants ? Quel r√¥le joue la variable <em>puret√©</em> (<code>clarity</code>)?</p>
</section>
<section id="devoir-pour-session-5" class="level2">
<h2 class="anchored" data-anchor-id="devoir-pour-session-5">Devoir pour Session 5</h2>
<ul>
<li><p>Ex√©cutez toutes les sections de code de la session 4 sur votre ordinateur.</p></li>
<li><p>Entra√Ænez-vous √† ouvrir un nouveau script R, √† d√©finir un r√©pertoire de travail et √† enregistrer le script dans un dossier sur votre ordinateur.</p></li>
<li><p>Assurez-vous que le paquet R <code>tidyverse</code> est install√© correctement sur votre ordinateur.</p></li>
<li><p>Utilisez le code R de mani√®re autonome pour explorer le jeu de donn√©es <code>diamonds</code>. Vous devez √™tre en mesure de comprendre et d‚Äôexpliquer comment il est structur√© (nombre d‚Äôobservations n, unit√© statistique, variables, origine des donn√©es, etc).</p></li>
</ul>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div>MIT</div></div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>