<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Julian Maitra">
<meta name="dcterms.date" content="2024-02-22">

<title>Exercices M√©thodes II</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table des mati√®res</h2>
   
  <ul class="collapse">
  <li><a href="#session-1" id="toc-session-1" class="nav-link active" data-scroll-target="#session-1">Session 1</a>
  <ul class="collapse">
  <li><a href="#linterface-rstudio" id="toc-linterface-rstudio" class="nav-link" data-scroll-target="#linterface-rstudio">L‚Äôinterface RStudio</a></li>
  <li><a href="#ex√©cuter-un-script-r" id="toc-ex√©cuter-un-script-r" class="nav-link" data-scroll-target="#ex√©cuter-un-script-r">Ex√©cuter un script R</a></li>
  <li><a href="#commenter-votre-code-avec-un" id="toc-commenter-votre-code-avec-un" class="nav-link" data-scroll-target="#commenter-votre-code-avec-un">Commenter votre code avec un <code>#</code></a></li>
  <li><a href="#lop√©rateur-daffectation--" id="toc-lop√©rateur-daffectation--" class="nav-link" data-scroll-target="#lop√©rateur-daffectation--">L‚Äôop√©rateur d‚Äôaffectation <code>&lt;-</code></a></li>
  <li><a href="#variables-√†-√©l√©ment-unique" id="toc-variables-√†-√©l√©ment-unique" class="nav-link" data-scroll-target="#variables-√†-√©l√©ment-unique">Variables √† √©l√©ment unique</a></li>
  <li><a href="#variables-√†-plusieurs-√©l√©ments-vecteurs" id="toc-variables-√†-plusieurs-√©l√©ments-vecteurs" class="nav-link" data-scroll-target="#variables-√†-plusieurs-√©l√©ments-vecteurs">Variables √† plusieurs √©l√©ments : vecteurs</a></li>
  <li><a href="#devoir-pour-session-2" id="toc-devoir-pour-session-2" class="nav-link" data-scroll-target="#devoir-pour-session-2">Devoir pour Session 2</a></li>
  </ul></li>
  <li><a href="#session-2" id="toc-session-2" class="nav-link" data-scroll-target="#session-2">Session 2</a>
  <ul class="collapse">
  <li><a href="#r√©p√©tition-rapide-de-session-1" id="toc-r√©p√©tition-rapide-de-session-1" class="nav-link" data-scroll-target="#r√©p√©tition-rapide-de-session-1">R√©p√©tition rapide de session 1</a></li>
  <li><a href="#donn√©es-en-forme-de-tableau" id="toc-donn√©es-en-forme-de-tableau" class="nav-link" data-scroll-target="#donn√©es-en-forme-de-tableau">Donn√©es en forme de tableau</a></li>
  <li><a href="#les-matrices" id="toc-les-matrices" class="nav-link" data-scroll-target="#les-matrices">Les matrices</a></li>
  <li><a href="#les-data-frames" id="toc-les-data-frames" class="nav-link" data-scroll-target="#les-data-frames">Les data frames</a></li>
  <li><a href="#fonctions-statistiques-de-base" id="toc-fonctions-statistiques-de-base" class="nav-link" data-scroll-target="#fonctions-statistiques-de-base">Fonctions statistiques de base</a></li>
  <li><a href="#les-facteurs" id="toc-les-facteurs" class="nav-link" data-scroll-target="#les-facteurs">Les facteurs</a></li>
  <li><a href="#le-r√©p√©rtoire-de-travail" id="toc-le-r√©p√©rtoire-de-travail" class="nav-link" data-scroll-target="#le-r√©p√©rtoire-de-travail">Le r√©p√©rtoire de travail</a></li>
  <li><a href="#devoir-pour-session-3-problem-set-1" id="toc-devoir-pour-session-3-problem-set-1" class="nav-link" data-scroll-target="#devoir-pour-session-3-problem-set-1">Devoir pour Session 3 (Problem Set 1)</a></li>
  </ul></li>
  <li><a href="#session-3-problem-set-1" id="toc-session-3-problem-set-1" class="nav-link" data-scroll-target="#session-3-problem-set-1">Session 3 (Problem Set 1)</a></li>
  <li><a href="#session-4" id="toc-session-4" class="nav-link" data-scroll-target="#session-4">Session 4</a>
  <ul class="collapse">
  <li><a href="#les-paquets-r" id="toc-les-paquets-r" class="nav-link" data-scroll-target="#les-paquets-r">Les paquets R</a></li>
  <li><a href="#les-jeux-de-donn√©es-int√©gr√©s" id="toc-les-jeux-de-donn√©es-int√©gr√©s" class="nav-link" data-scroll-target="#les-jeux-de-donn√©es-int√©gr√©s">Les jeux de donn√©es int√©gr√©s</a></li>
  <li><a href="#introduction-aux-visualisations-avec-ggplot2" id="toc-introduction-aux-visualisations-avec-ggplot2" class="nav-link" data-scroll-target="#introduction-aux-visualisations-avec-ggplot2">Introduction aux visualisations avec <code>ggplot2</code></a></li>
  <li><a href="#devoir-pour-session-5" id="toc-devoir-pour-session-5" class="nav-link" data-scroll-target="#devoir-pour-session-5">Devoir pour Session 5</a></li>
  </ul></li>
  <li><a href="#session-5" id="toc-session-5" class="nav-link" data-scroll-target="#session-5">Session 5</a>
  <ul class="collapse">
  <li><a href="#les-nuages-de-points-angl.-scatter-plots" id="toc-les-nuages-de-points-angl.-scatter-plots" class="nav-link" data-scroll-target="#les-nuages-de-points-angl.-scatter-plots">1. Les nuages de points (angl. <em>scatter plots</em>)</a></li>
  <li><a href="#les-diagrammes-√†-barres" id="toc-les-diagrammes-√†-barres" class="nav-link" data-scroll-target="#les-diagrammes-√†-barres">2. Les diagrammes √† barres</a></li>
  <li><a href="#les-histogrammes" id="toc-les-histogrammes" class="nav-link" data-scroll-target="#les-histogrammes">3. Les histogrammes</a></li>
  <li><a href="#les-bo√Ætes-√†-moustaches-angl.-boxplots" id="toc-les-bo√Ætes-√†-moustaches-angl.-boxplots" class="nav-link" data-scroll-target="#les-bo√Ætes-√†-moustaches-angl.-boxplots">4. Les bo√Ætes √† moustaches (angl. <em>boxplots</em>)</a></li>
  <li><a href="#devoir-pour-session-6-problem-set-2" id="toc-devoir-pour-session-6-problem-set-2" class="nav-link" data-scroll-target="#devoir-pour-session-6-problem-set-2">Devoir pour Session 6 (Problem Set 2)</a></li>
  </ul></li>
  <li><a href="#session-6-problem-set-2" id="toc-session-6-problem-set-2" class="nav-link" data-scroll-target="#session-6-problem-set-2">Session 6 (Problem Set 2)</a></li>
  <li><a href="#session-7" id="toc-session-7" class="nav-link" data-scroll-target="#session-7">Session 7</a>
  <ul class="collapse">
  <li><a href="#lire-des-donn√©es-dans-rstudio" id="toc-lire-des-donn√©es-dans-rstudio" class="nav-link" data-scroll-target="#lire-des-donn√©es-dans-rstudio">Lire des donn√©es dans RStudio</a></li>
  <li><a href="#manipuler-les-donn√©es-avec-dplyr" id="toc-manipuler-les-donn√©es-avec-dplyr" class="nav-link" data-scroll-target="#manipuler-les-donn√©es-avec-dplyr">Manipuler les donn√©es avec <code>dplyr</code></a></li>
  <li><a href="#devoir-pour-session-8-et-infos-questionnaireproblem-set-3" id="toc-devoir-pour-session-8-et-infos-questionnaireproblem-set-3" class="nav-link" data-scroll-target="#devoir-pour-session-8-et-infos-questionnaireproblem-set-3">Devoir pour Session 8 et infos questionnaire/Problem Set 3</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exercices M√©thodes II</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Julian Maitra <a href="mailto:julian.maitra@unifr.ch" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0003-3989-5158" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://www.unifr.ch/home/en/">
            Universit√© de Fribourg
            </a>
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 22, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="session-1" class="level1">
<h1>Session 1</h1>
<p>Bienvenue dans la premi√®re le√ßon du cours <strong>Exercices M√©thode II</strong> du Bachelor en sciences de la communication √† l‚ÄôUniversit√© de Fribourg !</p>
<p>Sur cette page, je vous guiderai dans vos premiers pas avec R.</p>
<p>R est un langage de programmation open-source qui vous permet d‚Äôanalyser et de visualiser des donn√©es sur des ph√©nom√®nes de communication int√©ressants.</p>
<p>Pour utiliser R sur votre ordinateur portable, vous devez d‚Äôabord installer les deux logiciels suivants :</p>
<ol type="1">
<li>le langage de programmation <a href="https://cran.r-project.org">R</a></li>
<li>l‚Äôinterface <a href="https://posit.co/download/rstudio-desktop/">RStudio</a></li>
</ol>
<p>Notez que nous n‚Äô√©crirons le code R que dans RStudio, l‚Äôinterface. Le langage de programmation R doit d‚Äôabord √™tre install√©, mais il fonctionnera ensuite en arri√®re-plan. Il n‚Äôest donc pas n√©cessaire d‚Äôouvrir R directement par la suite.</p>
<section id="linterface-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="linterface-rstudio">L‚Äôinterface RStudio</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://docs.posit.co/ide/user/ide/guide/ui/images/rstudio-panes-labeled.jpeg" class="img-fluid figure-img"></p>
<figcaption>Volets RStudio <a href="https://docs.posit.co/ide/user/ide/guide/ui/ui-panes.html">Source : posit.co</a></figcaption>
</figure>
</div>
<p>Dans RStudio, il existe quatre volets diff√©rents :</p>
<ol type="1">
<li>Le volet <strong>source</strong></li>
<li>Le volet <strong>console</strong></li>
<li>Le volet <strong>environnement</strong></li>
<li>Le volet <strong>output</strong></li>
</ol>
</section>
<section id="ex√©cuter-un-script-r" class="level2">
<h2 class="anchored" data-anchor-id="ex√©cuter-un-script-r">Ex√©cuter un script R</h2>
<p>Nous travaillons principalement dans le volet <strong>source</strong>, c‚Äôest l√† que nous √©crivons notre code.</p>
<p>Vous pouvez ouvrir le volet source en cr√©ant un nouveau <strong>R script</strong> (cliquez sur le signe plus vert dans le coin sup√©rieur gauche). Vous pouvez r√©√©crire ou copier-coller le calcul simple suivant et l‚Äôins√©rer dans votre script :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">14</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Une fois que nous avons √©crit du code R dans le script, nous pouvons <strong>l‚Äôex√©cuter</strong> en le s√©lectionnant et en cliquant sur le bouton d‚Äôex√©cution situ√© au-dessus du volet source (le bouton d‚Äôex√©cution avec la fl√®che verte √† qui montre √† droite).</p>
<p>C‚Äôest alors dans le volet de la <strong>console</strong> o√π le r√©sultat va √™tre affich√© :</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 24</code></pre>
</div>
</div>
<p>Notez que le nombre entre crochets indique la ligne du r√©sultat. Ici, il s‚Äôagit de 1 car il n‚Äôy a qu‚Äôune seule ligne.</p>
<p>Voici quelques autres calculs simples, suivi de leurs r√©sultats :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dv">99</span> <span class="sc">-</span> <span class="dv">98</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">*</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dv">100</span><span class="sc">/</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 50</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">^</span><span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1024</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour ex√©cuter le code R plus rapidement, vous pouvez placer votre curseur sur une ligne de code √† ex√©cuter et utiliser les raccourcis clavier suivants :</p>
<ul>
<li><p>Sur <strong>Windows</strong> : <kbd>CTRL</kbd> + <kbd>Enter</kbd></p></li>
<li><p>Sur <strong>MacOS</strong> : <kbd>Command</kbd> + <kbd>Enter</kbd></p></li>
</ul>
</div>
</div>
</section>
<section id="commenter-votre-code-avec-un" class="level2">
<h2 class="anchored" data-anchor-id="commenter-votre-code-avec-un">Commenter votre code avec un <code>#</code></h2>
<p>C‚Äôest une bonne pratique de <strong>commenter</strong> son code R. Les commentaires expliquent ce que le code fait et facilite l‚Äôutilisation ult√©rieure et aussi le partage de code entre personnes (qui ne savent peut-√™tre pas ce que vous vouliez faire avec votre code).</p>
<p>On commente en ajoutant un symbole <strong><code>#</code></strong> au d√©but de la ligne de code, comme ceci :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ceci est un commentaire, et R l'ignorera lors de</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># l'ex√©cution du script.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lop√©rateur-daffectation--" class="level2">
<h2 class="anchored" data-anchor-id="lop√©rateur-daffectation--">L‚Äôop√©rateur d‚Äôaffectation <code>&lt;-</code></h2>
<p>L‚Äôop√©rateur d‚Äôaffectation <strong><code>&lt;-</code></strong> est un op√©rateur cl√© de la programmation R. Il permet d‚Äôattribuer des valeurs aux variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Par exemple, nous pouvons attribuer la valeur 5 √† la</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># variable x :</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Si vous ex√©cutez ce code, une nouvelle variable, <code>x</code>, sera cr√©√©e dans le volet <strong>environnement</strong> en haut √† droite de RStudio.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>En g√©n√©ral, la programmation R parle aussi d‚Äô<strong>objets</strong>, ou de <strong>structures de donn√©es</strong>, que vous pouvez cr√©er. C‚Äôest pourquoi R est √©galement appel√© <strong>langage de programmation orient√© objet</strong>. Les variables √† un √©l√©ment sont des objets tr√®s simples. Au cours de ce cours, nous d√©couvrirons d‚Äôautres types d‚Äôobjets.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous pouvez cr√©er l‚Äôop√©rateur d‚Äôaffectation <code>&lt;-</code> avec les raccourcis clavier suivants :</p>
<ul>
<li><p>Sur <strong>Windows</strong> : <kbd>Alt</kbd> + <kbd>-</kbd></p></li>
<li><p>Sur <strong>MacOS</strong> : <kbd>Option</kbd> + <kbd>-</kbd></p></li>
</ul>
</div>
</div>
</section>
<section id="variables-√†-√©l√©ment-unique" class="level2">
<h2 class="anchored" data-anchor-id="variables-√†-√©l√©ment-unique">Variables √† √©l√©ment unique</h2>
<p>Vous pouvez <strong>imprimer</strong> (afficher) la valeur d‚Äôune variable que vous avez cr√©√©e, telle que <code>x</code>, en tapant le nom de la variable et en l‚Äôex√©cutant.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled" title="Important">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Veillez toujours √† ex√©cuter votre code pour cr√©er des variables avant de les utiliser pour d‚Äôautres op√©rations. Si vous oubliez de cr√©er les variables en premier, vous obtiendrez une erreur comme r√©sultat.</li>
</ul>
</div>
</div>
<p>Par exemple, essayez d‚Äôex√©cuter ce qui suit : <code>y + z</code></p>
<p>Pourquoi cela cr√©e une erreur ? R√©ponse : les variables <code>y</code> et <code>z</code> n‚Äôon pas encore √©t√© d√©finies !</p>
<p>Pour √©liminer l‚Äôerreur, nous devons donc d√©finir <code>y</code> et <code>z</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Essayons encore une fois :</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>y <span class="sc">+</span> z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
</div>
<p>Maintenant √ßa marche ! üòÄ</p>
<div class="callout callout-style-default callout-important callout-titled" title="Important">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Sachez aussi que si vous attribuez une nouvelle valeur √† une variable existante, l‚Äôancienne valeur sera √©cras√©e !</li>
</ul>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Notez que si vous ex√©cutez toutes les lignes de code</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co"># suivantes, la variable x se voit attribuer la derni√®re</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"># valeur ex√©cut√©e : 4. Les valeurs 5 et 100 sont ecras√©es</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># lors de l'ex√©cution du code.</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<section id="les-diff√©rents-types-de-variable-num√©riques-textuelles-et-logique" class="level3">
<h3 class="anchored" data-anchor-id="les-diff√©rents-types-de-variable-num√©riques-textuelles-et-logique">Les diff√©rents types de variable : num√©riques, textuelles et logique</h3>
<p>Jusqu‚Äô√† pr√©sent, nous avons cr√©√© des variables de <strong>type num√©rique</strong>, telles que <code>x</code> (valeur = 5).</p>
<p>Cependant, ce n‚Äôest pas le seul type de variable dans R.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Dans R, il existe diff√©rents types de variables :</p>
<ul>
<li><p>les variables <strong>num√©riques</strong></p></li>
<li><p>les variables <strong>textuelles</strong>, √©galement appel√©es <em>character strings</em> (cha√Ænes de caract√®res).</p></li>
<li><p>les variables <strong>logiques</strong> avec les valeurs TRUE et FALSE (VRAI et FAUX)</p></li>
</ul>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Regardons quelques exemples avec du code ! (faut tout</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ex√©cuter !)</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># variables num√©riques :</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">77</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>age <span class="ot">&lt;-</span> <span class="dv">21</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>Insta_likes <span class="ot">&lt;-</span> <span class="dv">1539</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="co"># variables textuelles (toujours ajouter des guillemets !)</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="st">"chien"</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="st">"chat"</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>Comm_TikTok <span class="ot">&lt;-</span> <span class="st">"wsh"</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>Moliere <span class="ot">&lt;-</span> <span class="st">"il n‚Äôest rien d‚Äô√©gal au tabac : c‚Äôest la passion des honn√™tes gens"</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="co"># variables logiques :</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>e <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Les variables logiques peuvent √™tre utiles quand vous travaillez avec des <strong>cat√©gories binaires</strong>.</p>
<p>Par exemple : il est souvent utile de classer les personnes ayant r√©pondu √† un questionnaire en cat√©gories binaires, telles que :</p>
<ul>
<li><p>homme/femme</p></li>
<li><p>mineur/majeur</p></li>
<li><p>conservateur/lib√©ral</p></li>
<li><p>etc.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Si Marc √©tait mineur et Claire majeure, nous les</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co"># classerions comme suit :</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>Marc <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>Claire <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Dans cet exemple, la variable logique indique si une</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co"># personne est majeure (TRUE) ou pas (FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="variables-√†-plusieurs-√©l√©ments-vecteurs" class="level2">
<h2 class="anchored" data-anchor-id="variables-√†-plusieurs-√©l√©ments-vecteurs">Variables √† plusieurs √©l√©ments : vecteurs</h2>
<p>Les <strong>vecteurs</strong> constituent un autre type de variable (ou type d‚Äôobjet) essentiel dans la programmation R. Il s‚Äôagit de variables comportant <strong>plusieurs</strong> √©l√©ments.</p>
<p>Vous pouvez cr√©er des vecteurs avec l‚Äôop√©rateur d‚Äôaffectation <code>&lt;-</code> et la <strong>fonction de concatenation</strong> <code>c()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Voici quelques exemples avec du code ! (faut tout</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ex√©cuter !)</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># un vecteur num√©rique (notez qu'il faut toujours s√©parer</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># les valeurs avec des virgules)</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vous pouvez afficher la valeur de <code>v1</code> en tappant son nom et l‚Äôex√©cutant :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>v1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>En R, une <strong>fonction</strong> est un morceau de code con√ßu pour effectuer une t√¢che sp√©cifique, souvent avec des param√®tres variables. Ces param√®tres d‚Äôentr√©e sont √©galement appel√©s les <strong>arguments</strong> de la fonction.</p>
</div>
</div>
<p>Prenons l‚Äôexemple de la fonction <code>c()</code> qui cr√©e des vecteurs :</p>
<ul>
<li><p>les arguments de cette fonction doivent √™tre ins√©r√©s entre les crochets sous la forme de valeurs s√©par√©es par des virgules (pour chaque √©l√©ment du vecteur).</p></li>
<li><p>Un vecteur √† deux √©l√©ments : <code>c(2, 4)</code></p></li>
<li><p>Un vecteur √† trois √©l√©ments : <code>c(3, 6, 9)</code></p></li>
</ul>
<p>Maintenant, regardons encores quelques exemples de vecteurs de <strong>diff√©rents types</strong> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># vecteurs num√©riques</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">4</span>, <span class="sc">-</span><span class="dv">88</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>likes_comments_shares <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">513</span>, <span class="dv">34</span>, <span class="dv">102</span>)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co"># vecteurs textuels (toujours ajouter des guillemets pour</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co"># chaque √©l√©ment !)</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>animaux <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"chat"</span>, <span class="st">"chien"</span>, <span class="st">"cheval"</span>, <span class="st">"chenille"</span>)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>Comm_Insta <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"trop cool"</span>, <span class="st">"wsh"</span>, <span class="st">"c'est quoi ?"</span>)</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>humains <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Claire"</span>, <span class="st">"Clarissa"</span>, <span class="st">"Theresa"</span>, <span class="st">"Marc"</span>, <span class="st">"Alma"</span>)</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="co"># vecteurs logiques :</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>femme <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Attention
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Dans R, on ne peut g√©n√©ralement pas m√©langer les valeurs num√©riques, textuelles et logiques dans le m√™me vecteur !</p>
</div>
</div>
</div>
</section>
<section id="devoir-pour-session-2" class="level2">
<h2 class="anchored" data-anchor-id="devoir-pour-session-2">Devoir pour Session 2</h2>
<ul>
<li><p>Si ce n‚Äôest pas encore fait : Installez R et RStudio sur votre ordinateur.</p></li>
<li><p>Lisez ensuite encore une fois ce script et ex√©cutez toutes les sections de code sur votre ordinateur.</p></li>
<li><p>Essayez de r√©soudre vous-m√™me les √©ventuels messages d‚Äôerreur en adaptant le code.</p></li>
</ul>
</section>
</section>
<section id="session-2" class="level1">
<h1>Session 2</h1>
<section id="r√©p√©tition-rapide-de-session-1" class="level2">
<h2 class="anchored" data-anchor-id="r√©p√©tition-rapide-de-session-1">R√©p√©tition rapide de session 1</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Script de r√©p√©tition</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Avez-vous compris comment R traite les diff√©rents types</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co"># de variables ?  Quelle est la diff√©rence entre a et b ?</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="st">"5"</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Comment afficher a et b ?</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative : avec la fonction print(), qui augmente la</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="co"># compr√©hension ult√©rieure du code</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Pourquoi le code suivant produit-il une erreur ?</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>a <span class="sc">*</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in a * b: non-numeric argument to binary operator</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Le code suivant corrige √† nouveau l'erreur, pourquoi ?</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>a <span class="sc">*</span> b</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># V√©cteurs</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>v1</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Vous pouvez cr√©ez des nombres succesifs avec un colon :</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>v2</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>v3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"salut"</span>, <span class="st">"le"</span>, <span class="st">"pote"</span>)</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>v4 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous pouvez utiliser la fonction <code>class()</code> pour v√©rifier le type d‚Äôun objet, p.&nbsp;ex. (ex√©cutez vous-m√™me !) :</p>
<ul>
<li><p><code>class(c(1,2,3))</code></p></li>
<li><p><code>class(c("Hello", "World"))</code></p></li>
<li><p><code>class(c(TRUE,TRUE,FALSE))</code></p></li>
</ul>
</div>
</div>
</section>
<section id="donn√©es-en-forme-de-tableau" class="level2">
<h2 class="anchored" data-anchor-id="donn√©es-en-forme-de-tableau">Donn√©es en forme de tableau</h2>
<p>Les donn√©es sous forme de tableaux, avec des lignes et des colonnes, sont au c≈ìur des m√©thodes quantitatives dans les sciences de la communication.</p>
<p>Dans R, il existe plusieurs structures de donn√©es en format de tableau, notamment :</p>
<ul>
<li><p>Les <strong>matrices</strong></p></li>
<li><p>Les <strong>data frames</strong></p></li>
<li><p>D‚Äôautres types, tels que les <strong>tibbles</strong>, qui sont en fait des data frames adapt√©s √† des paquets R sp√©cifiques (nous traiterons ce sujet plus tard dans le cours).</p></li>
</ul>
<div class="callout callout-style-default callout-important callout-titled" title="Important">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Il est de convention qu‚Äôun tableau de donn√©es pr√©sente les <strong>unit√©s statistiques</strong> par <strong>ligne</strong> (angl. <em>row</em>).</li>
<li>Les <strong>variables</strong> ou caract√©ristiques de ces unit√©s statistiques sont indiqu√©es en cons√©quence par <strong>colonnes</strong> (angl. <em>column</em>).</li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Selon le type de donn√©es, surtout en recherche empirique en sciences sociales dont font partie les sciences de la communication, les unit√©s statistiques peuvent √™tre :</p>
<ul>
<li><p>des <strong>participants</strong> √† un questionnaire ou √† une exp√©rimentation</p></li>
<li><p>des <strong>documents</strong> (p.&nbsp;ex. articles de presse, posts sur r√©seaux sociaux)</p></li>
<li><p>des <strong>observations/ cas</strong> (p.&nbsp;ex. des profils sur r√©seaux sociaux, des entreprises m√©diatiques)</p></li>
</ul>
<p>Dans ces jeux de donn√©es, par convention, chaque ligne repr√©sente une unit√© statistique (ou un participant, un document, une observation), tandis que chaque colonne repr√©sente les variables qui ont √©t√© collect√©es pour chaque unit√© statistique.</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>La taille d‚Äôun jeu de donn√©es est indiqu√©e par <strong>le nombre d‚Äôunit√©s statistiques n</strong>.</p>
<ul>
<li>Par exemple, si 49 personnes ont r√©pondu √† un questionnaire, nous parlons donc d‚Äôun √©chantillon de n = 49 participants.</li>
</ul>
</div>
</div>
<p>Voici un mod√®le de la mani√®re dont on devrait structurer les r√©ponses √† un questionnaire avec n participants et X questions :</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>          id  question_A  question_B  question_C etc.  question_X
1 personne_1 r√©ponse_a_A r√©ponse_a_B r√©ponse_a_C  ... r√©ponse_a_X
2 personne_2 r√©ponse_a_A r√©ponse_a_B r√©ponse_a_C  ... r√©ponse_a_X
3 personne_3 r√©ponse_a_A r√©ponse_a_B r√©ponse_a_C  ... r√©ponse_a_X
4       etc.         ...         ...         ...  ...         ...
5 personne_n r√©ponse_a_A r√©ponse_a_B r√©ponse_a_C  ... r√©ponse_a_X</code></pre>
</div>
</div>
<p>Dans ce mod√®le, l‚Äôunit√© statistique de ce jeu de donn√©es est la personne qui a r√©pondue au questionnaire (un participant). Chaque ligne correspond donc √† une personne diff√©rente. Les variables, en revanche, sont les diff√©rentes questions qui ont √©t√© enregistr√©es pour chaque participant.</p>
<p>Regardons maintenant quelques objets R sous forme de tableau :</p>
</section>
<section id="les-matrices" class="level2">
<h2 class="anchored" data-anchor-id="les-matrices">Les matrices</h2>
<p>Les <strong>matrices</strong> sont des objets plut√¥t math√©matique. Elles doivent notamment √™tre compos√© de donn√©es de m√™me type, c‚Äôest √† dire num√©rique, textuel, logique, etc.</p>
<p>On peut cr√©er des objets matriciels avec la commande <strong><code>matrix()</code></strong>, avec les arguments suivants :</p>
<ul>
<li><p>un vecteur de valeurs (p.&nbsp;ex. <code>c(1,2,3,4,5,6)</code>)</p></li>
<li><p>le nombre de lignes (<code>nrow=</code>),</p></li>
<li><p>le nombre de colonnes (<code>ncol=</code>) et</p></li>
<li><p>la <em>direction</em> de remplissage des valeurs, c‚Äôest-√†-dire par lignes (<code>byrow = TRUE</code>) ou par colonnes (<code>byrow = FALSE</code>).</p></li>
</ul>
<p>Cr√©ons quelques matrices exemplaires avec du code R maintenant.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(m1)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(m2)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Quelle est la diff√©rence entre m1 et m2 au niveau du code</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co"># ?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Si vous ne sp√©cifier pas tous les arguments d‚Äôune fonction, R va tenter d‚Äôutiliser des arguments par d√©fauts.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># On peut p. ex. cr√©er une matrice sans sp√©cifier tout les</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co"># arguments de la fonction matrix()</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>m3 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>), <span class="at">nrow =</span> <span class="dv">5</span>)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(m3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    1    6
[2,]    2    7
[3,]    3    8
[4,]    4    9
[5,]    5   10</code></pre>
</div>
</div>
<p>Vous pouvez extraire des √©l√©ments individuels ou des parties d‚Äôune matrice avec des <strong>parenth√®ses carr√©es <code>[]</code></strong> en sp√©cifiant les lignes et les colonnes concern√©es.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cr√©ons d'abord un matrice m4 avec 100 √©l√©ments :</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>m4 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>), <span class="at">nrow =</span> <span class="dv">10</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(m4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1    2    3    4    5    6    7    8    9    10
 [2,]   11   12   13   14   15   16   17   18   19    20
 [3,]   21   22   23   24   25   26   27   28   29    30
 [4,]   31   32   33   34   35   36   37   38   39    40
 [5,]   41   42   43   44   45   46   47   48   49    50
 [6,]   51   52   53   54   55   56   57   58   59    60
 [7,]   61   62   63   64   65   66   67   68   69    70
 [8,]   71   72   73   74   75   76   77   78   79    80
 [9,]   81   82   83   84   85   86   87   88   89    90
[10,]   91   92   93   94   95   96   97   98   99   100</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraire le deuxi√®me √©l√©ment de la troisi√®me ligne :</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>m4[<span class="dv">3</span>, <span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 22</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraire les cinq premiers √©l√©ments de la dixi√®me ligne :</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>m4[<span class="dv">10</span>, <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 91 92 93 94 95</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraire tous les √©l√©ments de la premi√®re ligne :</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>m4[<span class="dv">1</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraire tous les √©l√©ments de la troisi√®me colonne :</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>m4[, <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  3 13 23 33 43 53 63 73 83 93</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraire la moiti√© sup√©rieure de la matrice :</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>m4[<span class="fu">c</span>(<span class="dv">6</span><span class="sc">:</span><span class="dv">10</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
[1,]   51   52   53   54   55   56   57   58   59    60
[2,]   61   62   63   64   65   66   67   68   69    70
[3,]   71   72   73   74   75   76   77   78   79    80
[4,]   81   82   83   84   85   86   87   88   89    90
[5,]   91   92   93   94   95   96   97   98   99   100</code></pre>
</div>
</div>
</section>
<section id="les-data-frames" class="level2">
<h2 class="anchored" data-anchor-id="les-data-frames">Les data frames</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Les <strong>data frames</strong> (fran√ßais : <em>cadre de donn√©es</em>) sont le type de donn√©e en forme tableau le plus commun dans R. Cette structure de donn√©e peut notamment √™tre compos√© de donn√©es de diff√©rents types (num√©rique, textuel, logique).</p>
</div>
</div>
<p>Cr√©ons un data frame avec la fonction <code>data.frame()</code> maintenant. Nous appelons ce type d‚Äôobjets d√©sormais un <strong>jeu de donn√©es</strong>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://upload.wikimedia.org/wikipedia/en/2/24/Ice_Age_Dawn_of_the_Dinosaurs_theatrical_poster.jpg" class="img-fluid figure-img"></p>
<figcaption>Le film √Çge de glace <a href="https://en.wikipedia.org/wiki/File:Ice_Age_Dawn_of_the_Dinosaurs_theatrical_poster.jpg">Source : wikimedia.org</a></figcaption>
</figure>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cr√©ons d'abord un vecteur textuel avec les noms de</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="co"># certains animaux du film L'√¢ge de glace.</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>name <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Manny"</span>, <span class="st">"Sid"</span>, <span class="st">"Diego"</span>, <span class="st">"Ellie"</span>, <span class="st">"Peaches"</span>, <span class="st">"Scrat"</span>,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Rudy"</span>, <span class="st">"Buck"</span>)</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Un second vecteur textuel indique l'esp√®ce de chaque</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="co"># animal.</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>species <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"mammoth"</span>, <span class="st">"sloth"</span>, <span class="st">"sabertooth"</span>, <span class="st">"mammoth"</span>, <span class="st">"mammoth"</span>,</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"squirrel"</span>, <span class="st">"dinosaur"</span>, <span class="st">"weasel"</span>)</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Un troisi√®me vecteur logique indique si chaque animal est</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a><span class="co"># une femelle</span></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>female <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Un quatri√®me vecteur num√©rique indique l'√¢ge en ann√©es de</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a><span class="co"># chaque animal.</span></span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">30</span>, <span class="dv">20</span>, <span class="dv">35</span>, <span class="dv">25</span>, <span class="dv">7</span>, <span class="dv">4</span>, <span class="dv">100</span>, <span class="dv">28</span>)</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Un cinqui√®me tableau num√©rique indique le poids en kg de</span></span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a><span class="co"># chaque animal.</span></span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a>weight <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5000</span>, <span class="dv">80</span>, <span class="dv">400</span>, <span class="dv">4000</span>, <span class="dv">1000</span>, <span class="dv">1</span>, <span class="dv">10000</span>, <span class="dv">3</span>)</span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a><span class="co"># La fonction data.frame() permet d'utiliser les vecteurs</span></span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a><span class="co"># pour former un tableau de donn√©es.</span></span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a>ice_age_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(name, species, female, age, weight)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Nous pouvons afficher l‚Äôobjet <code>ice_age_df</code> en ex√©cutant son nom ou en utilisant la fonction <code>print()</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(ice_age_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     name    species female age weight
1   Manny    mammoth  FALSE  30   5000
2     Sid      sloth  FALSE  20     80
3   Diego sabertooth  FALSE  35    400
4   Ellie    mammoth   TRUE  25   4000
5 Peaches    mammoth   TRUE   7   1000
6   Scrat   squirrel  FALSE   4      1
7    Rudy   dinosaur  FALSE 100  10000
8    Buck     weasel  FALSE  28      3</code></pre>
</div>
</div>
<section id="quelques-fonctions-utiles-pour-analyser-les-data-frames" class="level3">
<h3 class="anchored" data-anchor-id="quelques-fonctions-utiles-pour-analyser-les-data-frames">Quelques fonctions utiles pour analyser les data frames</h3>
<p>Il existe plusieurs <strong>fonctions utiles</strong> dans R qui vous permettent d‚Äôanalyser les propri√©t√©s de jex de donn√©es de type data frame (et d‚Äôautres types d‚Äôobjets R), comme p.&nbsp;ex. :</p>
<ul>
<li><p><code>dim()</code> : Retourne les dimensions d‚Äôun jeu de donn√©es - le nombre de lignes et de colonnes.</p></li>
<li><p><code>head()</code> : Affiche les six premi√®res lignes du jeu de donn√©es.</p></li>
<li><p><code>str()</code> : Fournit la structure du jeu de donn√©es, y compris</p>
<ul>
<li><p>le type de variable de chaque colonne,</p></li>
<li><p>le nombre d‚Äôobservations et</p></li>
<li><p>les premi√®res entr√©es de chaque colonne.</p>
<p>C‚Äôest un moyen rapide de se faire une id√©e du contenu de votre jeu de donn√©es.</p></li>
</ul></li>
<li><p><code>summary()</code>: Donne un r√©sum√© du jeu de donn√©es, y compris des statistiques telles que</p>
<ul>
<li><p>la moyenne,</p></li>
<li><p>la m√©diane,</p></li>
<li><p>le minimum et le maximum pour les variables num√©riques, et</p></li>
<li><p>les fr√©quences pour les variables factorielles.</p>
<p>Cette fonction est utile pour obtenir rapidement une vue d‚Äôensemble des statistiques.</p></li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Utilisons ces fonctions pour analyser l'objet ice_age_df</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(ice_age_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ice_age_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     name    species female age weight
1   Manny    mammoth  FALSE  30   5000
2     Sid      sloth  FALSE  20     80
3   Diego sabertooth  FALSE  35    400
4   Ellie    mammoth   TRUE  25   4000
5 Peaches    mammoth   TRUE   7   1000
6   Scrat   squirrel  FALSE   4      1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(ice_age_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   8 obs. of  5 variables:
 $ name   : chr  "Manny" "Sid" "Diego" "Ellie" ...
 $ species: chr  "mammoth" "sloth" "sabertooth" "mammoth" ...
 $ female : logi  FALSE FALSE FALSE TRUE TRUE FALSE ...
 $ age    : num  30 20 35 25 7 4 100 28
 $ weight : num  5000 80 400 4000 1000 1 10000 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ice_age_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     name             species            female             age        
 Length:8           Length:8           Mode :logical   Min.   :  4.00  
 Class :character   Class :character   FALSE:6         1st Qu.: 16.75  
 Mode  :character   Mode  :character   TRUE :2         Median : 26.50  
                                                       Mean   : 31.12  
                                                       3rd Qu.: 31.25  
                                                       Max.   :100.00  
     weight        
 Min.   :    1.00  
 1st Qu.:   60.75  
 Median :  700.00  
 Mean   : 2560.50  
 3rd Qu.: 4250.00  
 Max.   :10000.00  </code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Une autre astuce utile consiste √† utiliser le <strong><code>$</code></strong> pour <strong>extraire des colonnes sp√©cifiques</strong> d‚Äôun jeu de donn√©es.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># P. ex. :</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>ice_age_df<span class="sc">$</span>name</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Manny"   "Sid"     "Diego"   "Ellie"   "Peaches" "Scrat"   "Rudy"   
[8] "Buck"   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Essayez vous-m√™me et extrayez d'autres colonnes de</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ice_age_df √† l'aide du $ !</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="fonctions-statistiques-de-base" class="level2">
<h2 class="anchored" data-anchor-id="fonctions-statistiques-de-base">Fonctions statistiques de base</h2>
<p>Il existe dans R toute une palette de fonctions statistiques qui vous permettent d‚Äô√©valuer principalement des donn√©es de type num√©rique. Quelques fonctions utiles pour les statistiques descriptives de base :</p>
<ul>
<li><p><code>mean()</code> : Calcule la moyenne arithm√©tique</p></li>
<li><p><code>median()</code> : Calcule la m√©diane</p></li>
<li><p><code>sd()</code> : Calcule l‚Äô√©cart-type (angl. <em>standard deviation</em>)</p></li>
<li><p><code>var()</code> : Calcule la variance</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>a1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">100</span>)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(a1)</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(a1)</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(a1)</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(a1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 34.33333</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 56.8712</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3234.333</code></pre>
</div>
</div>
</section>
<section id="les-facteurs" class="level2">
<h2 class="anchored" data-anchor-id="les-facteurs">Les facteurs</h2>
<p>Un autre type de variable cl√© dans R est ce que l‚Äôon appelle les <strong>facteurs</strong>, qui sont essentiellement des <strong>variables cat√©gorielles</strong>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Les facteurs sont des variables qui prennent un nombre limit√© de valeurs diff√©rentes (appel√©es <em>levels</em> dans R).</p>
<p>Il existe deux sous-type de facteurs :</p>
<ul>
<li><p>Les <strong>facteurs nominaux</strong> (sans ordre) : toutes les cat√©gories sont √©quivalentes les unes aux autres. Il n‚Äôy a pas de hi√©rarchisation.</p>
<ul>
<li>Exemples : le genre et l‚Äôappartenance √† un parti</li>
</ul></li>
<li><p>Les <strong>facteurs ordinaux</strong> (avec un ordre): il y a un ordre ou une hi√©rarchie sp√©cifi√© parmi les cat√©gories (p.&nbsp;ex. des niveaux tels que <em>faible</em>, <em>moyen</em>, <em>√©lev√©</em>).</p>
<ul>
<li>Exemples : niveau d‚Äô√©ducation, cohortes d‚Äô√¢ge</li>
</ul></li>
</ul>
</div>
</div>
<p>Vous pouvez cr√©er un facteur nominal √† l‚Äôaide de la fonction <code>factor()</code> et v√©rifier ses cat√©gories avec <code>levels()</code>. Voici un exemple :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cr√©er un vecteur de donn√©es cat√©gorielles, d'abord de</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="co"># type textuel</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>genre <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"homme"</span>, <span class="st">"femme"</span>, <span class="st">"femme"</span>, <span class="st">"femme"</span>, <span class="st">"homme"</span>)</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Le convertir ensuite en facteur</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>facteur_genre <span class="ot">&lt;-</span> <span class="fu">factor</span>(genre)</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Voir les niveaux du facteur genre</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(facteur_genre)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "femme" "homme"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimer le facteur (montre aussi les niveaux)</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(facteur_genre)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] homme femme femme femme homme
Levels: femme homme</code></pre>
</div>
</div>
<p>Et voici comment cr√©er un facteur ordinal :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Voici un vecteur textuel avec des tailles de T-shirt</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>tailles <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Small"</span>, <span class="st">"Medium"</span>, <span class="st">"Large"</span>, <span class="st">"Medium"</span>, <span class="st">"Small"</span>)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="co"># On le transforme en facteur ordinal en sp√©cifiant les</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="co"># arguments suivants :</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>tailles_facteur <span class="ot">&lt;-</span> <span class="fu">factor</span>(tailles, <span class="at">order =</span> <span class="cn">TRUE</span>, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Small"</span>,</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Medium"</span>, <span class="st">"Large"</span>))</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(tailles_facteur)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Small"  "Medium" "Large" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(tailles_facteur)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Small  Medium Large  Medium Small 
Levels: Small &lt; Medium &lt; Large</code></pre>
</div>
</div>
<p>Transformons maintenant la colonne <code>species</code> de notre jeu de donn√©es <code>ice_age_df</code> en facteur avec la fonction <code>as.factor()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># V√©rifions d'abord la structure de l'objet ice_age_df :</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(ice_age_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   8 obs. of  5 variables:
 $ name   : chr  "Manny" "Sid" "Diego" "Ellie" ...
 $ species: chr  "mammoth" "sloth" "sabertooth" "mammoth" ...
 $ female : logi  FALSE FALSE FALSE TRUE TRUE FALSE ...
 $ age    : num  30 20 35 25 7 4 100 28
 $ weight : num  5000 80 400 4000 1000 1 10000 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transformation en facteur : ice_age_df$species &lt;-</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="co"># as.factor(ice_age_df$species)</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a><span class="co"># V√©rifions encore une fois la structure de l'objet :</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a><span class="co"># str(ice_age_df)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>C‚Äôest maintenant √† vous de transformer la colonne <code>name</code> de <code>ice_age_df</code>en facteur !</p>
</section>
<section id="le-r√©p√©rtoire-de-travail" class="level2">
<h2 class="anchored" data-anchor-id="le-r√©p√©rtoire-de-travail">Le r√©p√©rtoire de travail</h2>
<div class="callout callout-style-default callout-important callout-titled" title="Important">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Dans R, le <strong>r√©pertoire de travail</strong> (angl. <em>working directory</em>) fait r√©f√©rence au dossier de votre ordinateur dans lequel R lit et enregistre les fichiers par d√©faut. Il s‚Äôagit d‚Äôun concept crucial dans la programmation R, car il d√©termine l‚Äôendroit o√π R recherche les fichiers √† lire et l‚Äôendroit o√π il place les fichiers lorsque vous les enregistrez.</p>
</div>
</div>
<p>Vous pouvez d√©finir votre r√©pertoire de travail avec la fonction <strong><code>setwd()</code></strong>.</p>
<p>Une possibilit√©, c‚Äôest de le faire manuellement dans le volet <em>output</em> en bas √† droite :</p>
<ol type="1">
<li>Naviguez sur l‚Äôonglet <strong>Files</strong></li>
<li>Cliquez sur les trois petits points <strong>‚Ä¶</strong> tout √† droite</li>
<li>Choisissez un dossier sur votre ordinateur qui peut servir de r√©pertoire de travail (vous devez peut-√™tre en cr√©er un d‚Äôabord et lui donner un nom utile, p.ex. ‚Äúex_meth_sp24‚Äù</li>
<li>Cliquez ensuite sur la petite <strong>roue bleue</strong> (More) et choisissez <strong>Set as Working Directory</strong></li>
<li>Vous pouvez ensuite copier et coller le code R qui d√©finit le r√©pertoire de travail depuis l‚Äôonglet de la console et l‚Äôinclure dans votre script R</li>
</ol>
<p>Sur l‚Äôordinateur de l‚Äôenseignant, ce code est le suivant : <code>setwd("C:/Users/julim/switchdrive/001_Exercices_Methodes_2_SP_22/R")</code> <strong>Attention</strong> : Ce code ne marche naturellement pas sur votre machine. Il faut l‚Äôadapter et inclure un chemin de fichier de votre ordinateur.</p>
<p>Vous pouvez ensuite v√©rifier si le r√©pertoire de travail a √©t√© correctement d√©fini avec la fonction <code>getwd()</code></p>
</section>
<section id="devoir-pour-session-3-problem-set-1" class="level2">
<h2 class="anchored" data-anchor-id="devoir-pour-session-3-problem-set-1">Devoir pour Session 3 (Problem Set 1)</h2>
<ul>
<li><p><strong>Problem Set 1</strong></p>
<ul>
<li><p>Le Problem Set 1 est un QCM sur Moodle qui sera accessible pendant les 30 premi√®res minutes de l‚Äôexercice.</p></li>
<li><p>Assurez-vous que R et RStudio fonctionnent sur votre ordinateur portable et qu‚Äôil a suffisamment de batterie. Il est de votre responsabilit√© de vous en assurer.</p></li>
<li><p>Dans le Problem Set 1, il y a √† la fois des questions que vous devez r√©soudre avec du code R et des questions de compr√©hension qui peuvent √™tre r√©solues sans code. Vous devez donc √™tre capable non seulement d‚Äôex√©cuter le code, mais aussi d‚Äôen comprendre l‚Äôobjectif.</p></li>
<li><p>R√©p√©tez le contenu des sessions 1 et 2 sur votre ordinateur afin de bien vous pr√©parer pour le Problem Set 1.</p></li>
<li><p>Assurez-vous que toutes les parties du code fonctionnent sans message d‚Äôerreur.</p></li>
</ul></li>
<li><p><strong>Attention</strong> :</p>
<ul>
<li><p>Vous devez tous venir la semaine prochaine dans le groupe dans lequel vous √™tes inscrits via my.unifr (A, B, C, D) si vous voulez participer au Problem Set 1.</p></li>
<li><p>Chaque √©tudiant.e n‚Äôaura acc√®s qu‚Äôau Problem Set 1 de son groupe.</p></li>
<li><p>Les personnes qui ne sont inscrites dans aucun groupe ne peuvent pas valider le Problem Set 1.</p></li>
</ul></li>
</ul>
</section>
</section>
<section id="session-3-problem-set-1" class="level1">
<h1>Session 3 (Problem Set 1)</h1>
<p>Les r√©sultats du <strong>Problem Set 1</strong> (bonnes r√©ponses, √©chelle des notes) sont acc√©ssibles sur la page Moodle de l‚Äôexercice.</p>
<p>Voici l‚Äôhistogramme des points obtenus par n = 81 √©tudiant.es qui ont particip√© au Problem Set 1.</p>
<ul>
<li><p>Le nombre maximal de points √©tait de 20, il fallait 10 pour passer le test.</p></li>
<li><p>La moyenne des points obtenus √©tait de 14.6 points (note = 4.75).</p></li>
<li><p>79 √©tudiant.es ont r√©ussi Problem Set 2 (98%).</p></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="session-4" class="level1">
<h1>Session 4</h1>
<p>La session 4 a pour but d‚Äôintroduire trois √©l√©ments fondamentaux en analyse de donn√©es avec R :</p>
<ol type="1">
<li>Installer et charger des <strong>paquets R</strong> sur son ordinateur</li>
<li>Utiliser des <strong>jeux de donn√©es int√©gr√©s en R</strong> pour s‚Äôentra√Æner en analyse de donn√©es</li>
<li>Apprendre √† utiliser le paquet <strong>ggplot2</strong> pour cr√©er des visualisations de donn√©es</li>
</ol>
<section id="les-paquets-r" class="level2">
<h2 class="anchored" data-anchor-id="les-paquets-r">Les paquets R</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Dans la programmation R, un <strong>paquet</strong> (angl. <em>package</em>) est un ensemble de fonctions, de donn√©es et de code compil√© dans un format bien d√©fini.</p>
<p>Les paquets √©tendent les fonctionnalit√©s de R de base en fournissant des outils suppl√©mentaires pour l‚Äôanalyse des donn√©es, la visualisation, l‚Äôapprentissage automatique, la mod√©lisation statistique et beaucoup d‚Äôautres applications sp√©cialis√©es.</p>
<p>Les paquets R peuvent √™tre d√©velopp√©s par n‚Äôimporte qui et partag√©s gratuitement avec d‚Äôautres (open source). Par cons√©quent, une grande multitude de paquets R sont disponibles.</p>
</div>
</div>
<p>Notez que la plupart des paquets R doit √™tre install√© s√©par√©ment, normalement depuis le site <a href="http://cran.r-project.org">Comprehensive R Archive Network (CRAN)</a>. Dans ce cours, nous nous concentrerons sur deux paquets c√©l√®bres :</p>
<ul>
<li><p><code>ggplot2</code> pour cr√©er des <strong>visualisations de donn√©es</strong></p></li>
<li><p><code>dplyr</code> pour <strong>manipuler les jeux de donn√©es</strong></p></li>
</ul>
<p>Tous deux font partie du <a href="https://www.tidyverse.org">tidyverse</a>, une collection de paquets con√ßus pour la science des donn√©es. Nous utiliserons √©galement le paquet suivant :</p>
<ul>
<li><code>ggthemes</code> pour <strong>augmenter le design des graphiques</strong></li>
</ul>
<p>Pour utiliser un paquet R sur votre ordinateur, il faut :</p>
<ol type="1">
<li>D‚Äôabord <strong>installer</strong> le paquet en question avec la fonction <code>install.packages()</code>. Cela peut durer quelques minutes.</li>
<li>Ensuite <strong>activer</strong> le paquet avec la fonction <code>library()</code>.</li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Dans RStudio, on peut aussi installer les paquets via l‚Äôonglet <strong>Tools</strong> et le menu d√©roulant : Cliquez sur <em>Install Packages</em>‚Ä¶ et cherchez les paquets que vous voulez installer.</p>
</div>
</div>
<p>Utilisez le code suivant pour installer les paquets R requis pour notre cours. Enlevez les croisillons, √©x√©cutez le code avec <code>install.packages()</code> puis r√©ajouter les croisillons pour √©viter de r√©installer les paquets chaque fois que vous √©x√©cutez le code dans votre script ! Activer ensuite les paquets avec <code>library()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages('tidyverse')</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages('ggthemes')</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>√Ä noter : <code>ggplot2</code> et <code>dplyr</code> sont install√©s avec le <code>tidyverse</code>, il ne faut donc plus les installer s√©par√©ment.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-20-contents" aria-controls="callout-20" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Attention
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-20" class="callout-20-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Notez qu‚Äôune fois install√©, vous n‚Äôavez pas besoin de le r√©installer les paquets √† chaque fois avec <code>install.packages()</code>. Cependant, vous devez <strong>activer</strong> tous les paquets R que vous voulez utiliser dans une session avec la commande <code>library()</code>. Sans activation, vous allez recevoir des messages d‚Äôerreur.</p>
</div>
</div>
</div>
<p>Certains paquets ont des documentations auxquelles vous pouvez acc√©der gr√¢ce au point d‚Äôinterrogation. Ces infos sont affich√©s dans le volet <em>Output</em> sous l‚Äôonglet <em>Help</em>.</p>
<ul>
<li><p><code>?ggplot2</code></p></li>
<li><p><code>?dplyr</code></p></li>
</ul>
<p>En ligne, vous pouvez √©galement trouver de nombreuses ressources qui expliquent en d√©tail les fonctionnalit√©s des diff√©rents paquets R et vous renvoient vers d‚Äôautres livres, tutoriels, cours, etc., p.&nbsp;ex. :</p>
<ul>
<li><p><a href="https://ggplot2.tidyverse.org/index.html">Documentation officielle de <code>ggplot2</code></a></p></li>
<li><p><a href="https://dplyr.tidyverse.org">Documentation officielle de <code>dplyr</code></a></p></li>
<li><p><a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/">Exemples de graphiques cr√©es avec les diff√©rents designs de <code>ggthemes</code></a></p></li>
</ul>
<p>Vous pouvez v√©rifier quels paquets sont <strong>actuellement install√©s sur votre ordinateur</strong> avec la fonction <code>installed.packages()</code> (vous pouvez laisser vide l‚Äôespace entre parenth√®ses) :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">installed.packages</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="les-jeux-de-donn√©es-int√©gr√©s" class="level2">
<h2 class="anchored" data-anchor-id="les-jeux-de-donn√©es-int√©gr√©s">Les jeux de donn√©es int√©gr√©s</h2>
<p>Une excellente fa√ßon, et probablement la plus efficace, d‚Äôapprendre √† utiliser R pour l‚Äôanalyse de donn√©es consiste √† travailler avec des <strong>jeux de donn√©es int√©gr√©s dans R</strong>.</p>
<p>Ces jeux de donn√©es exemplaires pr√©sentent deux avantages principaux.</p>
<ol type="1">
<li>Il est facile d‚Äôy acc√©der et de les charger dans votre session RStudio, car ils sont int√©gr√©s √† R et √† certains de ses paquets.</li>
</ol>
<p>Cela les distingue fortement des donn√©es du ‚Äúmonde r√©el‚Äù, comme les donn√©es de questionnaires ou de m√©dias sociaux, qu‚Äôil faut souvent d‚Äôabord nettoyer et formater, puis importer dans RStudio sous forme de fichiers externes. Avec les jeux de donn√©es int√©gr√©s, vous pouvez imm√©diatement commencer l‚Äôanalyse et la visualisation des donn√©es.</p>
<ol start="2" type="1">
<li>Ces jeux de donn√©es ont prouv√© leur utilit√© dans d‚Äôinnombrables supports d‚Äôapprentissage.</li>
</ol>
<p>Par cons√©quent, vous pouvez facilement trouver des ressources suppl√©mentaires et des exemples de code √† leur sujet.</p>
<p>Dans ce qui suit, nous allons explorer quatre jeux de donn√©es classiques de ce type :</p>
<ul>
<li><p><code>iris</code></p></li>
<li><p><code>mtcars</code></p></li>
<li><p><code>diamonds</code></p></li>
<li><p><code>palmerpenguins</code></p></li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous pouvez afficher les jeux de donn√©es qui sont actuellement acc√©ssible sur votre ordinateur avec la commande <code>data().</code></p>
</div>
</div>
<section id="le-jeu-de-donn√©es-iris" class="level3">
<h3 class="anchored" data-anchor-id="le-jeu-de-donn√©es-iris">le jeu de donn√©es <code>iris</code></h3>
<p>Le jeu de donn√©es <code>iris</code> est un ensemble de donn√©es c√©l√®bre qui contient les mesures en centim√®tres des variables longueur et largeur du s√©pale, ainsi que longueur et largeur du p√©tale, pour trois exp√®ces de fleurs d‚Äôiris (Setosa, Virginica et Versicolor). Il y a 150 observations en total (50 pour chaque esp√®ce).</p>
<p>Le jeu de donn√©es a √©t√© rendu c√©l√®bre par le statisticien et biologiste britannique <strong>Ronald Fisher</strong> dans un article scientifique de 1936 qui avait beaucoup d‚Äôinfluence dans le domaine des statistiques. Les donn√©es d‚Äôiris eux-m√™me ont √©t√© r√©colt√© par le botaniste Edgar Anderson en 1935 sur la p√©ninsule de Gasp√©sie au Qu√©b√©c, Canada.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-22-contents" aria-controls="callout-22" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Plus sur Ronald Fisher
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-22" class="callout-22-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Ronald Fisher (1890-1962) √©tait un statisticien, g√©n√©ticien et biologiste britannique qui a jou√© un r√¥le crucial dans le d√©veloppement de la science statistique moderne. Il est connu pour son travail dans le d√©veloppement des fondements des m√©thodes statistiques, incluant l‚Äôanalyse de variance (ANOVA), le test exact de Fisher et l‚Äôestimation du maximum likelihood. Fisher a √©galement apport√© des contributions significatives en g√©n√©tique, o√π son travail sur la th√©orie de la s√©lection naturelle et la g√©n√©tique des populations a aid√© √† combler le foss√© entre la g√©n√©tique mend√©lienne et l‚Äô√©volution darwinienne. Il est consid√©r√© comme l‚Äôun des architectes principaux de la synth√®se n√©o-darwinienne. Son influence s‚Äô√©tend au-del√† de la statistique et de la g√©n√©tique aux domaines plus larges de la biologie et de la recherche agricole, faisant de lui une figure pivotale de la science du 20e si√®cle.</p>
</div>
</div>
</div>
<p><a title="Diego Mariano, CC BY-SA 4.0 <https://creativecommons.org/licenses/by-sa/4.0>, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:Flores_de_%C3%8Dris.png"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Flores_de_%C3%8Dris.png/512px-Flores_de_%C3%8Dris.png" alt="Flores de √çris" width="512"></a></p>
<p>Il y a des statistiques sur trois esp√®ces d‚Äôiris dans le jeu de donn√©es <a href="https://commons.wikimedia.org/wiki/File:Flores_de_√çris.png">Source : wikimedia.org</a></p>
<p>Dans l‚Äôapprentissage de R, ce jeu de donn√©es est souvent utilis√© pour illustrer diverses techniques d‚Äôanalyse de donn√©es, y compris le clustering, la classification et la visualisation.</p>
<p>Explorons un peu le jeu de donn√©es <code>iris</code> avec du code !</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(iris)  <span class="co"># Ceci affiche le nombre de lignes et de colonnes)</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris)  <span class="co"># Affiche les six premi√®res lignes</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(iris)  <span class="co"># Informations sur la structure du jeu de donn√©es</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(iris)  <span class="co"># Affiche les noms des colonnes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Regardons ce que √ßa donne apr√®s l‚Äô√©x√©cution de chaque ligne de code :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 150   5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1          5.1         3.5          1.4         0.2  setosa
2          4.9         3.0          1.4         0.2  setosa
3          4.7         3.2          1.3         0.2  setosa
4          4.6         3.1          1.5         0.2  setosa
5          5.0         3.6          1.4         0.2  setosa
6          5.4         3.9          1.7         0.4  setosa</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   150 obs. of  5 variables:
 $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
 $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
 $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
 $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
 $ Species     : Factor w/ 3 levels "setosa","versicolor",..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Sepal.Length" "Sepal.Width"  "Petal.Length" "Petal.Width"  "Species"     </code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous pouvez consulter la documentation pour beaucoup de jeux de donn√©es avec un point d‚Äôinterrogation : <code>?iris()</code>.</p>
</div>
</div>
</section>
<section id="le-jeu-de-donn√©es-mtcars" class="level3">
<h3 class="anchored" data-anchor-id="le-jeu-de-donn√©es-mtcars">le jeu de donn√©es <code>mtcars</code></h3>
<p>Utilisez le script suivant pour analyser <code>mtcars</code>(lisez √©galement la documentation avec <code>?mtcars</code>) !</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Chargez le jeu de donn√©es mtcars. Il devrait appara√Ætre</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="co"># dans l'environnement</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Affichez mtcars</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>mtcars</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a><span class="co"># vous pouvez explorer mtcars manuellement en double</span></span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a><span class="co"># cliquant dessus dans l'environnement</span></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Affichez seulement les six premi√®res observations</span></span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mtcars)</span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Affichez seulement les six derni√®res observations</span></span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(mtcars)</span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Appliquez quelques autres commandes pour explorer ce jeu</span></span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a><span class="co"># de donn√©es</span></span>
<span id="cb87-19"><a href="#cb87-19" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mtcars)</span>
<span id="cb87-20"><a href="#cb87-20" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(mtcars)</span>
<span id="cb87-21"><a href="#cb87-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-22"><a href="#cb87-22" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mtcars)</span>
<span id="cb87-23"><a href="#cb87-23" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mtcars)</span>
<span id="cb87-24"><a href="#cb87-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-25"><a href="#cb87-25" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(mtcars)  <span class="co"># cette commande marche seulement si vous avez activ√© le tidyverse</span></span>
<span id="cb87-26"><a href="#cb87-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-27"><a href="#cb87-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraire la colonne mpg ('miles per gallon') avec le</span></span>
<span id="cb87-28"><a href="#cb87-28" aria-hidden="true" tabindex="-1"></a><span class="co"># signe $ et calculer la moyenne, la m√©dianne, le minimum</span></span>
<span id="cb87-29"><a href="#cb87-29" aria-hidden="true" tabindex="-1"></a><span class="co"># et le maximum</span></span>
<span id="cb87-30"><a href="#cb87-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-31"><a href="#cb87-31" aria-hidden="true" tabindex="-1"></a>mtcars<span class="sc">$</span>mpg</span>
<span id="cb87-32"><a href="#cb87-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-33"><a href="#cb87-33" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(mtcars<span class="sc">$</span>mpg)</span>
<span id="cb87-34"><a href="#cb87-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-35"><a href="#cb87-35" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(mtcars<span class="sc">$</span>mpg)</span>
<span id="cb87-36"><a href="#cb87-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-37"><a href="#cb87-37" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(mtcars<span class="sc">$</span>mpg)</span>
<span id="cb87-38"><a href="#cb87-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-39"><a href="#cb87-39" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(mtcars<span class="sc">$</span>mpg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a title="Jeremy from Sydney, Australia, CC BY 2.0 <https://creativecommons.org/licenses/by/2.0>, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:1974_Toyota_Corolla_(KE20)_L_2-door_sedan_(20538771443).jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/1974_Toyota_Corolla_%28KE20%29_L_2-door_sedan_%2820538771443%29.jpg/512px-1974_Toyota_Corolla_%28KE20%29_L_2-door_sedan_%2820538771443%29.jpg" alt="1974 Toyota Corolla (KE20) L 2-door sedan (20538771443)" width="512"></a></p>
<p>Un des mod√®les de mtcars : Le Toyota Corolla de 1974. <a href="https://commons.wikimedia.org/wiki/File:1974_Toyota_Corolla_(KE20)_L_2-door_sedan_(20538771443).jpg">Source : wikimedia.org</a></p>
</section>
<section id="le-jeu-de-donn√©es-diamonds" class="level3">
<h3 class="anchored" data-anchor-id="le-jeu-de-donn√©es-diamonds">le jeu de donn√©es <code>diamonds</code></h3>
<p>C‚Äôest maintenant √† vous d‚Äôexplorer ce jeu de donn√©es avec du code !</p>
<p>Utilisez √©galement <code>?diamonds()</code> !</p>
<p><a title="Jerry Cone, Public domain, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:Diamond-1128734.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Diamond-1128734.jpg/512px-Diamond-1128734.jpg" alt="Diamond-1128734" width="512"></a></p>
<p>Qu‚Äôest-ce qui d√©finit le prix d‚Äôun diamant ? <a href="https://commons.wikimedia.org/wiki/File:Diamond-1128734.jpg">Source : wikimedia.org</a></p>
</section>
</section>
<section id="introduction-aux-visualisations-avec-ggplot2" class="level2">
<h2 class="anchored" data-anchor-id="introduction-aux-visualisations-avec-ggplot2">Introduction aux visualisations avec <code>ggplot2</code></h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>ggplot2</code>, qui fait partie du <code>tidyverse</code>, est un paquet de visualisation de donn√©es tr√®s populaire dans R. Il a √©t√© con√ßu pour faciliter la cr√©ation de graphiques complexes et multicouches avec une syntaxe coh√©rente et consistante nomm√©e <em>grammar of graphics</em>.</p>
<p><em>ggplot2</em> est donc un acronyme form√© √† partir des mots <em>grammar of graphics plots</em> (fran√ßais : <em>grammaire des graphiques</em>). Le ‚Äú2‚Äù dans ggplot2 indique simplement la deuxi√®me g√©n√©ration de ce paquet R.</p>
<p>Avec <code>ggplot2</code>, les utilisateurs peuvent construire des graphiques de mani√®re incr√©mentale en ajoutant des couches, ce qui le rend flexible pour une large gamme de besoins graphiques. Cela permet de cr√©er des visualisations hautement personnalisables et esth√©tiquement attrayantes, allant de simples diagrammes de dispersion √† des figures multi-panneaux complexes.</p>
</div>
</div>
<p>Le tableau suivant d√©crit les couches d‚Äôun graphique ggplot :</p>
<table class="table">
<caption>Les couches d‚Äôun graphique ggplot</caption>
<colgroup>
<col style="width: 31%">
<col style="width: 29%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="header">
<th>Couche</th>
<th style="text-align: left;">D√©scription/Variables</th>
<th style="text-align: center;">Obligatoire ?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><em>data</em></td>
<td style="text-align: left;">le jeu de donn√©es que nous voulons visualiser</td>
<td style="text-align: center;">oui</td>
</tr>
<tr class="even">
<td><em>aesthetics</em></td>
<td style="text-align: left;">le <em>mapping</em> de nos variables : axes <em>x</em> et <em>y</em>, <em>color</em>, <em>fill</em>, <em>alpha</em>, <em>line width</em>, etc.</td>
<td style="text-align: center;">oui</td>
</tr>
<tr class="odd">
<td><em>geometries</em></td>
<td style="text-align: left;">le type visuel du graphique : <em>point</em>, <em>line</em>, <em>histogram</em>, <em>bar</em>, <em>boxplot</em></td>
<td style="text-align: center;">oui</td>
</tr>
<tr class="even">
<td><em>themes</em></td>
<td style="text-align: left;">Le design du graphique</td>
<td style="text-align: center;">non</td>
</tr>
<tr class="odd">
<td>Autres couches optionelles : <em>facets</em>, <em>statistics</em>, <em>coordinates</em></td>
<td style="text-align: left;">Pour des visualisations plus complexes</td>
<td style="text-align: center;">non</td>
</tr>
</tbody>
</table>
<p>Pour comprendre comment cela fonctionne, voici un exemple de code dans lequel les diff√©rentes couches d‚Äôun graphique <em>ggplot</em> sont ajout√©es √©tape par √©tape dans la fonction <code>ggplot()</code>. (Normalement, nous ne proc√©derions pas ainsi, mais utiliserions directement le code en entier pour cr√©er le graphique).</p>
<p>Le but dans cet exemple est de visualiser le jeu de donn√©es <code>diamonds</code> pour comprendre la relation entre les variables <code>price</code> (prix) et <code>carat</code> (poids) des diamants dans le jeu de donn√©es !</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Important : avant d‚Äôanalyser un ensemble de donn√©es, il faut toujours acqu√©rir des <strong>connaissances contextuelles</strong> sur ce que les donn√©es repr√©sentent.</p>
<p>Dans notre exemple, il s‚Äôagit de diamants. Dans le monde des diamants, il est important de comprendre qu‚Äôil existe <strong>quatre crit√®res de qualit√©</strong> qui d√©terminent <strong>la valeur</strong> (donc le prix) d‚Äôun diamant. Ce sont les suivants :</p>
<ul>
<li><p>La taille (angl. <em>cut</em>)</p></li>
<li><p>La puret√© (<em>clarity</em>)</p></li>
<li><p>La couleur (<em>color</em>)</p></li>
<li><p>Le poids en carats (<em>carat</em>)</p></li>
</ul>
<p>En anglais, on parle donc aussi des 4C. Le jeu de donn√©es <code>diamonds</code> contient pr√©cis√©ment ces variables.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># La premi√®re couche, data, d√©finit le jeu de donn√©es</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Notre graphique n‚Äôest pour l‚Äôinstant qu‚Äôune zone grise ! Catastrophe ? Bien s√ªr que non üòÄ. Nous devons maintenant d√©finir les autres param√®tres de la fonction <code>ggplot()</code> !</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># La deuxi√®me couche, aesthetics, d√©finit le mapping de nos</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="co"># variables sur les axes y et x</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>La zone grise a maintenant re√ßu des unit√©s pour ses axes x (<code>carat</code>) et y (<code>price</code>). Mais il n‚Äôy a toujours pas de donn√©es affich√©es !</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># La troisi√®me couche, geometries, d√©finit le type visuel</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="co"># de notre graphique</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price)) <span class="sc">+</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Ouf, si vous avez ex√©cut√© le dernier code, vous avez maintenant 53 940 points de donn√©es affich√©es dans votre graphique ! Car il y a tant d‚Äôobservations dans le jeu de donn√©es <code>diamonds</code>.</p>
<p>Bon courage si vous avez un vieil ordinateur, cela peut prendre un certain temps avant que R ne produise le graphique‚Ä¶</p>
<p>Mais jetons un coup d‚Äô≈ìil au graphique. Qu‚Äôest-ce qui saute aux yeux, pouvez-vous d√©j√† identifier des tendances ?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># On peut maintenant encore optimiser notre graphique</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price, <span class="at">color =</span> clarity)) <span class="sc">+</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Vous avez remarqu√© ce qui a chang√© dans le code ?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajoutons encore une couche optionnelle mais utile au</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="co"># graphique : labs() nous permet d'ajouter et de</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="co"># personnaliser des titres, sout-titres, titre d'axes,</span></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="co"># titres de l√©gendes, etc. !</span></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price, <span class="at">color =</span> clarity)) <span class="sc">+</span></span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"La relation entre prix et carat des diamants"</span>,</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"n = 53 940 diamants"</span>, <span class="at">y =</span> <span class="st">"Prix"</span>, <span class="at">x =</span> <span class="st">"Carat"</span>,</span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">"Puret√©"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Maintenant il s‚Äôagit d‚Äôinterpr√©ter le graphique. Que nous dit-il sur la relation entre prix et carats des diamants ? Quel r√¥le joue la variable <em>puret√©</em> (<code>clarity</code>)?</p>
</section>
<section id="devoir-pour-session-5" class="level2">
<h2 class="anchored" data-anchor-id="devoir-pour-session-5">Devoir pour Session 5</h2>
<ul>
<li><p>Ex√©cutez toutes les sections de code de la session 4 sur votre ordinateur.</p></li>
<li><p>Entra√Ænez-vous √† ouvrir un nouveau script R, √† d√©finir un r√©pertoire de travail et √† enregistrer le script dans un dossier sur votre ordinateur.</p></li>
<li><p>Assurez-vous que le paquet R <code>tidyverse</code> est install√© correctement sur votre ordinateur.</p></li>
<li><p>Utilisez le code R de mani√®re autonome pour explorer le jeu de donn√©es <code>diamonds</code>. Vous devez √™tre en mesure de comprendre et d‚Äôexpliquer comment il est structur√© (nombre d‚Äôobservations n, unit√© statistique, variables, origine des donn√©es, etc).</p></li>
</ul>
</section>
</section>
<section id="session-5" class="level1">
<h1>Session 5</h1>
<p>La session 5 a pour but d‚Äôapprofondir les techniques de visualisation de donn√©es avec le paquet <code>ggplot2</code>, notamment la cr√©ation des types de graphique suivants :</p>
<ol type="1">
<li>Les nuages de points (angl. <em>scatter plots</em>)</li>
<li>Les diagrammes √† barres (angl. <em>bar plots</em>)</li>
<li>Les histogrammes (angl. <em>histograms</em>)</li>
<li>Les bo√Ætes √† moustaches (angl. <em>box plots</em>)</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># N'oubliez pas de charger les paquets tidyverse et</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ggthemes !  Ex√©cutez le code suivant pour le faire :</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="les-nuages-de-points-angl.-scatter-plots" class="level2">
<h2 class="anchored" data-anchor-id="les-nuages-de-points-angl.-scatter-plots">1. Les nuages de points (angl. <em>scatter plots</em>)</h2>
<p>Commen√ßons par le <strong>nuage de points</strong>, que nous avons d√©j√† vu lors de la derni√®re session, lorsque nous avons visualis√© la relation entre les carats et les prix dans le jeu de donn√©es <code>diamonds</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Un <strong>nuage de points</strong> (aussi appel√© diagramme de dispersion) est utilis√© dans <code>ggplot2</code> pour repr√©senter les valeurs de <strong>deux variables num√©riques diff√©rentes</strong> par des points, avec une variable sur l‚Äôaxe des X et l‚Äôautre sur l‚Äôaxe des Y.</p>
<p>Ce type de graphique est id√©al pour l‚Äôanalyse exploratoire de donn√©es, permettant d‚Äôobserver les relations entre les variables, de d√©tecter des tendances, des regroupements, des valeurs √™xtremes (angl. <em>outliers</em>) ou de v√©rifier des hypoth√®ses de corr√©lation.</p>
<p>Dans la fonction <code>ggplot()</code>, un scatter plot est cr√©√© avec la couche g√©om√©trique <code>geom_point()</code>.</p>
</div>
</div>
<p>Cr√©ons un nuage de points avec le jeu de donn√©es <code>iris</code>, en comparant les longueurs et les largeurs des s√©pales des iris (les variables <code>Sepal.Length</code> et <code>Sepal.Width</code>).</p>
<p>Notez que, dans le code suivant, nous ne cr√©ons pas directement un graphique <code>ggplot</code> mais nous stockons le graphique comme un objet dans l‚Äôenvironnement, nomm√© <code>p1</code>, que nous pouvons ensuite afficher avec la fonction <code>print()</code>. Nous verrons dans un instant pourquoi cette pratique est utile.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># nuage de points basique pour comparer la longueur et la</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="co"># largeur des s√©pales des iris</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>np1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> iris, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Sepal.Length, <span class="at">y =</span> Sepal.Width)) <span class="sc">+</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Sepal length and width in the iris dataset"</span>)</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(np1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Nous pouvons ajouter des couches √† l‚Äôobjet <code>np1</code> sans l‚Äô√©craser, p.&nbsp;ex. une ligne de r√©gression lin√©aire avec <code>geom_smooth(method = lm)</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>np1 <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Que nous indique la ligne de r√©gression ? En principe, elle indique une correlation l√©g√®rement n√©gative entre les variables <code>Sepal.Length</code>et <code>Sepal.Width</code> ! (la zone grise autour de la ligne bleue indique une marge d‚Äôerreur).</p>
<p>Cela signifie que les iris dont les s√©pales sont plus longs ont tendance √† avoir des s√©pales un peu moins larges ! Gardez cette constatation √† l‚Äôesprit pour les √©tapes de codage suivantes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ecrasons np1 en changeant un peu le code. D√©couvrez</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="co"># vous-m√™me ce qui a chang√© dans le code !</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>np1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(<span class="at">x =</span> Sepal.Length, <span class="at">y =</span> Sepal.Width, <span class="at">color =</span> Species)) <span class="sc">+</span></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Sepal length and width in the iris dataset"</span>)</span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(np1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Vous pouvez voir dans le graphique que nous pouvons maintenant diff√©rencier les trois esp√®ces d‚Äôiris. La dispersion des points semble moins al√©atoire, ce qui permet de voir des groupes de points appartenant √† l‚Äôune ou l‚Äôautre esp√®ce (angl. <em>cluster</em>).</p>
<p>Maintenant, ajoutons √† nouveau une couche <code>geom_smooth()</code> √† l‚Äôobjet <code>np1</code> !</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>np1 <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Les trois lignes de r√©gression (une pour chaque type d‚Äôiris) montrent maintenant un tout autre r√©sultat : en effet, la corr√©lation entre <code>Sepal.Length</code> et <code>Sepal.Width</code> est clairement positive.</p>
<p>Cette constatation est un exemple d‚Äôanalyse exploratoire des donn√©es, rendue possible par les possibilit√©s de visualisation de <code>ggplot2</code>.</p>
</section>
<section id="les-diagrammes-√†-barres" class="level2">
<h2 class="anchored" data-anchor-id="les-diagrammes-√†-barres">2. Les diagrammes √† barres</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Les <strong>diagrammes √† barres</strong> dans R avec <code>ggplot2</code> sont utilis√©s pour repr√©senter visuellement des <strong>donn√©es cat√©gorielles</strong>, permettant de comparer des quantit√©s entre diff√©rentes cat√©gories.</p>
<p>On les utilise donc souvent pour montrer la fr√©quence ou la proportion d‚Äôobservations dans chaque cat√©gorie, ce qui les rend utiles pour analyser des tendances ou des diff√©rences au sein de donn√©es cat√©gorielles.</p>
<p>Dans la fonction <code>ggplot()</code>, un diagramme √† barres est cr√©√© avec la couche g√©om√©trique <code>geom_bar()</code>.</p>
</div>
</div>
<p>Par exemple, nous pouvons utiliser le code simple suivant pour comparer la fr√©quence des diff√©rentes tailles (angl. <code>cut</code>) dans le jeu de donn√©es <code>diamonds</code>. Cette-fois ci, nous sauvegardons et nommons le graphique <code>db1</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>db1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> diamonds, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cut)) <span class="sc">+</span> <span class="fu">geom_bar</span>()</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(db1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Am√©liorons le graphique avec des param√®tres et des couches suppl√©mentaires de la fonction <code>ggplot()</code> (Notez que nous allons simplement √©craser l‚Äôobjet <code>db1</code> cr√©√© pr√©c√©demment avec une nouvelle version de <code>db1</code> !) :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>db1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> diamonds, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cut, <span class="at">fill =</span> cut)) <span class="sc">+</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Frequency of cut quality types in the diamonds dataset"</span>,</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"n = 53,940 diamonds"</span>, <span class="at">x =</span> <span class="st">"Cut Quality"</span>, <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(db1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Que nous dit le graphique ? Il est int√©ressant de constater que dans le jeu de donn√©es <code>diamonds</code>, le niveau de qualit√© le plus √©lev√© de la taille, √† savoir <code>ideal</code>, est √©galement le plus fr√©quent.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-28-contents" aria-controls="callout-28" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Attention
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-28" class="callout-28-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Dans la fonction <code>ggplot()</code>, il y a une diff√©rence si vous voulez ajouter de la couleur aux points (qui ont math√©matiquement z√©ro dimension) ou aux surfaces (qui ont deux dimensions), comme dans les diagrammes √† barres.</p>
<p>Si vous voulez ajouter de la couleur √† une surface, vous devez utiliser l‚Äôargument <code>fill = "xyz"</code>. L‚Äôargument <code>color = "xyz"</code> que nous avons utilis√© pour ajouter de la couleur aux nuages de points ne fera qu‚Äôajouter de la couleur √† la ligne autour de la surface !</p>
</div>
</div>
</div>
<section id="cest-maintenant-√†-vous-de-jouer" class="level3">
<h3 class="anchored" data-anchor-id="cest-maintenant-√†-vous-de-jouer">C‚Äôest maintenant √† vous de jouer !</h3>
<p>Reprenez le code que nous avons utilis√© pour cr√©er <code>db1</code> et modifiez-le pour cr√©er un nouvel objet,<code>db2</code>, qui visualise la fr√©quence des types de qualit√© de couleur (<code>color</code>) dans le jeu de donn√©es <code>diamonds</code> sous la forme d‚Äôun diagramme √† barres !</p>
</section>
</section>
<section id="les-histogrammes" class="level2">
<h2 class="anchored" data-anchor-id="les-histogrammes">3. Les histogrammes</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Un <strong>histogramme</strong> est un type de graphique utilis√© pour repr√©senter <strong>la distribution</strong> d‚Äô<strong>une variable num√©rique</strong> √† travers des barres.</p>
<p>Un ‚Äúhistogramme s√©pare les valeurs possibles des donn√©es en classes ou groupes. Pour chaque groupe, on construit un rectangle dont la base correspond aux valeurs de ce groupe et la hauteur correspond au nombre d‚Äôobservations dans le groupe.</p>
<p>L‚Äôhistogramme a une apparence semblable au graphique √† barres verticales, mais il n‚Äôy a pas d‚Äô√©cart entre les barres.</p>
<p>En r√®gle g√©n√©rale, l‚Äôhistogramme poss√®de des barres d‚Äôune largeur √©gale‚Äù (Source : <a href="https://www150.statcan.gc.ca/n1/edu/power-pouvoir/ch9/histo/5214822-fra.htm">Statistique Canada, 2021).</a></p>
<p>L‚Äôhistogramme est particuli√®rement utile pour :</p>
<ul>
<li><strong>Analyser la distribution</strong> : Comprendre si les donn√©es sont normalement distribu√©es, asymm√©triques (angl. <em>skewness</em>), ou si elles pr√©sentent un plateau (kurtosis).</li>
<li><strong>D√©tecter les valeurs extr√™mes</strong> : Identifier les donn√©es qui s‚Äô√©cartent du reste de l‚Äôensemble des donn√©es de mani√®re signifiante.</li>
<li><strong>Comparer des distributions</strong> : Observer comment diff√©rentes sous-populations se comparent les unes aux autres en termes de distribution de donn√©es.</li>
</ul>
<p>Avec <code>ggplot2</code> en R, cr√©er un histogramme se fait avec la couche g√©ometrique <code>geom_histogram()</code>. <code>ggplot2</code> calcule automatiquement la taille des intervalles (angl. <em>bins</em>) par d√©faut, mais cela peut √™tre ajust√© manuellement en sp√©cifiant l‚Äôargument <code>binwidth = xyz</code>dans la fonction <code>geom_histogram()</code>, p.&nbsp;ex. <code>geom_histogram(binwidth = 30)</code>.</p>
</div>
</div>
<p>Avant de cr√©er un histogramme avec le code R, introduisons d‚Äôabord une nouvelle fonction : <code>rnorm()</code>. Elle peut √™tre utilis√©e pour cr√©er des valeurs al√©atoires qui suivent une <strong>loi normale</strong> (angl. <em>normal distribution</em>).</p>
<p>Les arguments que nous pouvons entrer dans la fonction sont :</p>
<ul>
<li><p>le nombre <code>n</code> de valeurs al√©atoires que nous voulons cr√©er</p></li>
<li><p>la moyenne <code>mean</code> de la distribution des valeurs al√©atoires</p></li>
<li><p>l‚Äô√©cart-type <code>sd</code> de la distribution des valeurs al√©atoires</p></li>
</ul>
<p>Notez que par d√©faut, la fonction utilise <code>mean = 0</code> et <code>sd = 1</code>, ce qui correspond √† une <strong>loi normale centr√©e r√©duite</strong> (angl. <em>standard normal distribution</em>).</p>
<p>Utilisez aussi <code>?rnorm()</code>pour acc√©der √† plus d‚Äôinfos.</p>
<p>Dans le code R suivant, nous utilisons <code>rnorm()</code> pour simuler les distributions des tailles des hommes et des femmes en Suisse.</p>
<p>Selon un article de <a href="https://www.24heures.ch/calculateur-en-ligne-quelle-taille-faites-vous-par-rapport-aux-autres-191558705635#"><em>24 heures</em></a>, en Suisse, les femmes ont une taille moyenne de 164.7 cm tandis que les hommes mesurent 177.4 cm en moyenne. Dans la suite, nous supposons que les √©carts-types sont de +- 5.6 cm pour les femmes et de +- 6.1 cm pour les hommes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulation de tailles de femmes en Suisse Cr√©er 500</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="co"># valeurs al√©atoires de taille (moyenne = 164.7 et</span></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="co"># √©cart-type = 5.6) avec la fonction rnorm().</span></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>taille_f <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="at">mean =</span> <span class="fl">164.7</span>, <span class="at">sd =</span> <span class="fl">5.6</span>)</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(taille_f)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 156.1311 160.8612 167.7112 164.9746 169.7221 164.9807</code></pre>
</div>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># stocker taille_f comme objet de type 'data.frame'</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>taille_f <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(taille_f)</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="co"># visualiser taille_f avec un histogramme basique</span></span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> taille_f, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> taille_f)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># jouer avec le param√®tre 'binwidth' de l'histogramme qui</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="co"># d√©finit l'intervalle de la base de ses barres</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> taille_f, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> taille_f)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-47-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> taille_f, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> taille_f)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-47-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> taille_f, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> taille_f)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-47-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># stocker l'histogramme comme objet, nomm√© hist1, et</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="co"># modifier sa couleur</span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>hist1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> taille_f, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> taille_f)) <span class="sc">+</span></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"white"</span>)</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(hist1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-47-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajouter des couches suppl√©mentaires pour am√©liorer la</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="co"># visualisation p. ex. des titres</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>hist1 <span class="ot">&lt;-</span> hist1 <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogramme des tailles de femmes en Suisse"</span>,</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Simulation bas√©e sur 500 observations"</span>, <span class="at">x =</span> <span class="st">"Taille en cm"</span>,</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Fr√©quence"</span>) <span class="sc">+</span> <span class="fu">theme_bw</span>()</span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(hist1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-47-6.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Un √©l√©ment cl√© des visualisations de donn√©es est la <strong>couleur</strong>. Le document PDF suivant, cr√©√© par Ying Wei de l‚ÄôUniversit√© de Columbia √† New York, montre et liste les noms des couleurs dans R. Vous pouvez copier-coller le nom d‚Äôune couleur et l‚Äôutiliser dans votre graphique ggplot2 !</p>
<ul>
<li><a href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf">Colors in R</a></li>
</ul>
</div>
</div>
<section id="cest-maintenant-√†-vous-de-jouer-1" class="level3">
<h3 class="anchored" data-anchor-id="cest-maintenant-√†-vous-de-jouer-1">C‚Äôest maintenant √† vous de jouer !</h3>
<p>Reprenez le code que nous avons utilis√© pour cr√©er <code>taille_f</code> et <code>hist1</code> et modifiez-le pour cr√©er une nouvelle simulation de taille d‚Äôhommes, <code>taille_h</code>, et un nouveau histogramme qui montre sa distribution, <code>hist2</code>. Jouez avec les param√®tres <code>binwidth</code>et la couleur de votre visualisation. Pour cette t√¢che, vous pouvez supposer que les hommes en Suisse ont une taille moyenne (<code>mean</code>) de 177,4 cm avec un √©cart-type (<code>sd</code>) de 6,1 cm.</p>
</section>
</section>
<section id="les-bo√Ætes-√†-moustaches-angl.-boxplots" class="level2">
<h2 class="anchored" data-anchor-id="les-bo√Ætes-√†-moustaches-angl.-boxplots">4. Les bo√Ætes √† moustaches (angl. <em>boxplots</em>)</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Les <strong>bo√Ætes √† moustaches</strong>, ou <strong>boxplots</strong>, sont un type de graphique pour repr√©senter la distribution d‚Äôun ensemble de donn√©es √† travers cinq mesures cl√©s :</p>
<ol type="1">
<li>le minimum (d√©but de la ‚Äúmoustache‚Äù ou point extr√™me de minimum)</li>
<li>le premier quartile (Q1 ; d√©but de la bo√Æte)</li>
<li>la m√©diane (Q2 ; ligne qui ‚Äúcoupe la bo√Æte en deux‚Äù)</li>
<li>le troisi√®me quartile (Q3 ; fin de la bo√Æte) et</li>
<li>le maximum (fin de la moustache ou point extr√™me de maximum)</li>
</ol>
<p>Ces diagrammes permettent d‚Äôidentifier rapidement la m√©diane, l‚Äô√©tendue interquartile (angl. <em>interquartile range</em> = <em>IQR</em>) et les valeurs √™xtremes potentielles. Ils sont particuli√®rement utiles pour comparer les distributions entre plusieurs groupes ou variables.</p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Le dataset <code>mtcars</code> en R, qui contient des donn√©es sur les caract√©ristiques de diff√©rents mod√®les de voitures, peut √™tre utilis√© pour illustrer l‚Äôutilisation de boxplots.</p>
<p>Par exemple, pour visualiser la distribution de la consommation de carburant (<code>mpg</code>) des voitures en fonction du nombre de cylindres (<code>cyl</code>), on peut utiliser le code suivant :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Avant de cr√©er le boxplot, v√©rifions d'abord la structure</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="co"># de mtcars :</span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   32 obs. of  11 variables:
 $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
 $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
 $ disp: num  160 160 108 258 360 ...
 $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
 $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
 $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
 $ qsec: num  16.5 17 18.6 19.4 17 ...
 $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
 $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
 $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
 $ carb: num  4 4 1 1 2 1 4 2 2 4 ...</code></pre>
</div>
</div>
<p>Nous pouvons constater que la colonne <code>cyl</code> (cylindre) est stock√©e au format num√©rique.</p>
<p>C‚Äôest un probl√®me, car nous voulons comparer la consommation de carburant des voitures √† 4, 6 ou 8 cylindres. Nous devons traiter chacune d‚Äôentre elles comme un sous-groupe distinct. Comment faire ?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transformons donc cyl en facteur</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>mtcars<span class="sc">$</span>cyl <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(mtcars<span class="sc">$</span>cyl)</span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Et maintenant nous pouvons construire notre boxplot</span></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>box1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> mtcars, <span class="fu">aes</span>(<span class="at">x =</span> cyl, <span class="at">y =</span> mpg, <span class="at">fill =</span> cyl)) <span class="sc">+</span></span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Consommation de carburant (mpg) par nombre de cylindres dans mtcars"</span>,</span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Nombre de cylindres"</span>, <span class="at">y =</span> <span class="st">"Miles per gallon (mpg)"</span>)</span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(box1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Ce code g√©n√®re un boxplot, <code>box1</code>, pour chaque groupe de cylindres dans le dataset <code>mtcars</code>, permettant de comparer facilement la consommation de carburant entre les voitures avec un diff√©rents nombres de cylindres.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Le param√®tre <code>alpha = 0.2</code> √† l‚Äôint√©rieur de <code>geom_boxplot()</code> rend les boxplots transparents. En g√©n√©ral, <code>alpha</code> peut √™tre compris entre 0 (totalement transparent) et 1 (non transparent). C‚Äôest un param√®tre suppl√©mentaire qui permet de personnaliser votre graphique <code>ggplot2</code>.</p>
</div>
</div>
<p>On voit dans le graphique des boxplots que dans <code>mtcars</code>, les voitures avec des moteurs ayant plus de cylindres ont aussi tendance √† √™tre moins efficaces en termes de consommation de carburant. Il existe toutefois quelques intersections entre les groupes. C‚Äôest-√†-dire qu‚Äôil y a des voitures √† 8 cylindres qui sont relativement efficaces en termes de consommation de carburant, surpassant quelques voitures √† 6 cylindres, par exemple.</p>
</section>
<section id="devoir-pour-session-6-problem-set-2" class="level2">
<h2 class="anchored" data-anchor-id="devoir-pour-session-6-problem-set-2">Devoir pour Session 6 (Problem Set 2)</h2>
<ul>
<li><p><strong>Problem Set 2</strong></p>
<ul>
<li><p>Comme le premier Problem Set, le Problem Set 2 est un QCM sur Moodle qui sera accessible pendant 30 minutes du cr√©neau horaire de votre groupe de l‚Äôexercice.</p></li>
<li><p>Assurez-vous que R et RStudio fonctionnent sur votre ordinateur portable et qu‚Äôil a suffisamment de batterie. Il est de votre responsabilit√© de vous en assurer.</p></li>
<li><p>Le Problem Set 2 concernera principalement le contenu des sessions 4 et 5, √† savoir la visualisation de donn√©es avec ggplot2.</p></li>
<li><p>Les bases de R qui ont √©t√© trait√©es dans les premi√®res sessions, comme par exemple la cr√©ation et l‚Äô√©crasement d‚Äôobjets avec l‚Äôop√©rateur d‚Äôaffectation <code>&lt;-</code>, sont toutefois requises, car la mati√®re se fonde sur ces bases. Veuillez combler vous-m√™me les √©ventuelles lacunes √† ce sujet.</p></li>
</ul></li>
<li><p><strong>Annonce : Questionnaire</strong></p>
<ul>
<li><p>Nous allons √©valuer <strong>un questionnaire sur votre comportement d‚Äôutilisation des m√©dias</strong> avec R comme autre √©l√©ment important du cours.</p></li>
<li><p>Le questionnaire est <strong>anonyme</strong> (m√™me pour l‚Äôenseignant) et peut √™tre rempli en ligne via LimeSurvey jusqu‚Äôau <strong>vendredi 19 avril 2024 √† 23h59</strong>.</p></li>
<li><p>Tous les √©tudiant.es recevront prochainement un lien personnel d‚Äôinvitation au questionnaire par e-mail (les r√©ponses seront anonymis√©es et m√©lang√©es par le logiciel, l‚Äôenseignant ne verra que si les personnes invit√©es ont r√©pondu au questionnaire avant la date limite).</p></li>
<li><p>Chaque √©tudiant(e) qui aura rempli le questionnaire dans les d√©lais recevra un <strong>bonus de 2 points dans le Problem Set 4</strong> (10% des points).</p></li>
</ul></li>
</ul>
</section>
</section>
<section id="session-6-problem-set-2" class="level1">
<h1>Session 6 (Problem Set 2)</h1>
<p>Les r√©sultats du <strong>Problem Set 2</strong> (bonnes r√©ponses, √©chelle des notes) sont acc√©ssibles sur la page Moodle de l‚Äôexercice.</p>
<p>Voici l‚Äôhistogramme des points obtenus par n = 82 √©tudiant.es qui ont particip√© au Problem Set 2.</p>
<ul>
<li><p>Le nombre maximal de points √©tait de 20, il fallait 10 pour passer le test.</p></li>
<li><p>La moyenne des points obtenus √©tait de 12.5 (note = 4.5).</p></li>
<li><p>71 √©tudiant.es (86%) ont r√©ussi Problem Set 2.</p></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-51-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="session-7" class="level1">
<h1>Session 7</h1>
<p><strong>Sujet : Manipuler les donn√©es (partie 1)</strong></p>
<p>Le premier but de cette session est d‚Äôapprendre √† importer des donn√©es dans RStudio √† partir de <strong>fichier CSV</strong> et de les stocker en forme de data frame (format tabulaire).</p>
<p>Le deuxi√®me but est de se familiariser avec <code>dplyr</code> (prononc√© ‚Äúdee-ply-er‚Äù en anglais), un paquet du <code>tidyverse</code> con√ßu pour manipuler les donn√©es en forme de data frame.</p>
<p>Contrairement aux jeux de donn√©es int√©gr√©s √† R (tels que <code>diamonds</code>, etc.), la plupart des jeux de donn√©es du monde r√©el n√©cessitent des <strong>transformations</strong> avant de pouvoir √™tre analys√©s et visualis√©s. √Ä cette fin, nous examinerons √©galement certaines transformations de types de variables et un nouvel op√©rateur, le <code>%&gt;%</code> (angl. ‚Äúpipe‚Äù; trad. fran√ß. ‚Äútuyau‚Äù), qui est tr√®s utile pour les manipulations de donn√©es.</p>
<section id="lire-des-donn√©es-dans-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="lire-des-donn√©es-dans-rstudio">Lire des donn√©es dans RStudio</h2>
<p>Par la suite, nous alons appliquer ces verbes avec un jeu de donn√©es concret, un fichier CSV nomm√© <code>igposts.csv</code>, qui contient des posts Instagram de c√©l√©brit√©es qui ont re√ßu beaucoup d‚Äôinteractions d‚Äôutilisateurs. Pour y arriver, il faut charger ce jeu de donn√©es dans notre session RStudio en cours.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
√Ä noter
</div>
</div>
<div class="callout-body-container callout-body">
<p>Un fichier de type <strong>CSV</strong> (angl. comma-separated values) est un format textuel simple pour sauvegarder des donn√©es en forme de tableau, c‚Äôest √† dire avec des valeurs organis√© par lignes et colonnes et s√©par√©es par virgules.</p>
<p>Le format CSV pr√©sente l‚Äôavantage d‚Äô√™tre assez l√©ger et compatible avec tous les syst√®mes d‚Äôexploitation. En outre, il est utile pour stocker des donn√©es quantitatives en sciences sociales, qui se pr√©sentent souvent sous forme de tableaux.</p>
<p>Voici un exemple de format CSV simple :</p>
<p>nom, pr√©nom, √¢ge<br>
Leclerc, Antoine, 53<br>
Gomez, Hugo, 25<br>
Nguyen, Laetitia, 19<br>
</p>
<p>Que nous pouvons afficher comme tableau (√† noter que la premi√®re ligne d√©signe les noms des colonnes) :</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">nom</th>
<th style="text-align: left;">pr√©nom</th>
<th style="text-align: center;">√¢ge</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Leclerc</td>
<td style="text-align: left;">Antoine</td>
<td style="text-align: center;">53</td>
</tr>
<tr class="even">
<td style="text-align: left;">Gomez</td>
<td style="text-align: left;">Hugo</td>
<td style="text-align: center;">25</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nguyen</td>
<td style="text-align: left;">Laetitia</td>
<td style="text-align: center;">19</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Avant l‚Äôimportation de fichier CSV dans RStudio (et comme d√©j√† vu pleins de fois dans le cours üòâ), il faut d‚Äôabord charger les paquets n√©cessaire avec <code>library()</code> et d√©finir son r√©p√©rtoire de travail (vous devez adapter les param√®tres de <code>setwd()</code> pour qu‚Äôil marche sur votre ordinateur) :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"/Users/domus_julian/Documents/GitHub/intro-a-R/code"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pour charger le jeu de donn√©es <code>igposts.csv</code> dans RStudio, vous pouvez suivre le processus suivant :</p>
<ol type="1">
<li><p>Vous t√©l√©chargez le fichier <code>igposts.csv</code> depuis le <a href="https://moodle.unifr.ch/course/view.php?id=276028#section-7">site Moodle du cours</a> (voir mat√©riel de la 7e session).</p></li>
<li><p>Stockez le fichier <code>igposts.csv</code> dans le dossier que vous avez d√©finit comme r√©p√©rtoire de travail.</p></li>
<li><p>Ensuite, vous utilisez le menu int√©ractif dans RStudio : File -&gt; Import Dataset -&gt; From Text (base)‚Ä¶ et choisissez <code>igposts.csv</code>.</p></li>
<li><p>Une fen√™tre avec des param√®tre apparait, que vous pouvez remplir de la mani√®re suivante :</p>
<p><img src="images/clipboard-2412941684.png" class="img-fluid"></p>
<ul>
<li><p>Explications des param√®tres :</p>
<ul>
<li><p><strong>Encoding = UTF-8</strong> : Indique √† RStudio d‚Äôutiliser <a href="https://blog.hubspot.fr/website/encodage-utf-8">l‚Äôencodage de caract√®res UTF-8</a> (qui est un standard tr√®s r√©pandu), ce qui est important pour lire correctement toutes les lettres (notamment les caract√®res avec des accents : √©, √§, √™, etc.).</p></li>
<li><p><strong>Heading = YES</strong> : Indique √† RStudio que la premi√®re ligne du fichier CSV contient les noms des colonnes.</p></li>
<li><p><strong>Separator = Comma</strong> : Indique √† RStudio que les valeurs du tableau sont s√©par√©es par des virgules (attention, certains documents francophones utilisent le point-virgule ( ;) √† la place de la virgule).</p></li>
<li><p><strong>Decimal = Period</strong> : Indique √† RStudio que le point (.) est utilis√© pour les d√©cimales (et non la virgule comme souvent dans les documents en fran√ßais).</p></li>
<li><p><strong>na.strings = #N/A</strong> : Indique √† RStudio que les cellules vides dans le tableau sont d√©sign√©es par #N/A (cela peut √™tre diff√©rent dans d‚Äôautres fichiers CSV).</p></li>
</ul></li>
</ul></li>
<li><p>Finalement, vous pouvez copier et coller le code qui appara√Æt dans la console dans votre script R pour facilement recharger le fichier CSV ult√©rieurement.</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Par exemple, pour l'ordinateur de l'enseignant, ce code</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="co"># est le suivant :</span></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>igposts <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"/Users/domus_julian/Documents/GitHub/intro-a-R/code/igposts.csv"</span>,</span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">encoding =</span> <span class="st">"UTF-8"</span>, <span class="at">na.strings =</span> <span class="st">"#N/A"</span>)</span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Si tout a bien march√©, l'objet igposts devrait appara√Ætre</span></span>
<span id="cb112-8"><a href="#cb112-8" aria-hidden="true" tabindex="-1"></a><span class="co"># dans votre environnement Nous pouvons afficher la</span></span>
<span id="cb112-9"><a href="#cb112-9" aria-hidden="true" tabindex="-1"></a><span class="co"># structure de igposts pour une premi√®re impression :</span></span>
<span id="cb112-10"><a href="#cb112-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-11"><a href="#cb112-11" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(igposts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   100 obs. of  12 variables:
 $ Account             : chr  "Leo Messi" "Selena Gomez" "KIARA" "Cristiano Ronaldo" ...
 $ User.Name           : chr  "leomessi" "selenagomez" "kiaraaliaadvani" "cristiano" ...
 $ Followers.at.Posting: int  434255880 381000851 26965756 545618329 548818853 551324765 44212419 56881100 390981561 547708976 ...
 $ Post.Created.Date   : chr  "27/02/2023" "22/02/2023" "07/02/2023" "09/02/2023" ...
 $ Post.Created.Time   : chr  "18:17:47" "21:32:34" "11:55:59" "16:19:37" ...
 $ Type                : chr  "Album" "Photo" "Album" "Album" ...
 $ Total.Interactions  : int  23333227 20020533 16776082 16501407 14683868 14619124 13517205 12844571 12661694 12639004 ...
 $ Likes               : int  23075849 19760862 16554530 16317762 14603158 14489506 13517204 12844571 12589553 12558961 ...
 $ Comments            : int  257378 259671 221552 183645 80710 129618 1 0 72141 80043 ...
 $ Views               : int  0 0 0 0 0 0 0 10998354 5648190 0 ...
 $ URL                 : chr  "https://www.instagram.com/p/CpLxnFlNJZn/" "https://www.instagram.com/p/Co_P7YgrrFO/" "https://www.instagram.com/p/CoXmBSLvj7A/" "https://www.instagram.com/p/CodNx8BL1-X/" ...
 $ Description         : chr  "Gracias a todos los que hicieron posible que ganara este premio. A todos los de la @afaseleccion, a mi familia "| __truncated__ "I deleted this one time because I thought maybe it was too much but eh (taking a break from social)" "‚ÄúAb humari permanent booking hogayi hai‚Äù \n\nWe seek your blessings and love on our journey ahead ‚ù§Ô∏èüôè" "Great feeling to have scored 4 goals and reaching my 500th league goal in a very solid win by the team!üí™üèº\n‚öΩÔ∏è‚öΩÔ∏è‚öΩÔ∏è‚öΩÔ∏è" ...</code></pre>
</div>
</div>
<p>Cela nous montre qu‚Äôil s‚Äôagit d‚Äôun data frame avec 100 observations et 12 variables. Chaque ligne repr√©sente un post Instagram d‚Äôune c√©l√©brit√© (unit√© statistique) et chaque colonnes une variable diff√©rente associ√© √† ce post.</p>
<p>Notez que les variables sont soit de type textuel (chr = ‚Äúcharacter‚Äù; p. ex. <code>Account</code>= le nom du compte Insta qui a publi√© le post), soit num√©rique (int = ‚Äúinteger‚Äù; p.&nbsp;ex. <code>Total.Interactions</code> = la somme des <code>Likes</code>et <code>Comments</code> qu‚Äôun post a re√ßu).</p>
<p>Vous pouvez aussi cliquer sur l‚Äôobjet et explorer le tableau manuellement pour le comprendre d‚Äôavantage (comme nous l‚Äôavons fait avec <code>mtcars</code>, etc.).</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-34-contents" aria-controls="callout-34" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Attention
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-34" class="callout-34-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ul>
<li><p>Vous ne devez pas ouvrir les fichiers CSV avec des autres logiciels avant de les importer dans RStudio (par ex. avec Excel), car cela a souvent pour cons√©quence de modifier automatiquement le format du fichier CSV, ce qui entra√Æne ensuite des erreurs.</p></li>
<li><p>Vous devriez enregistrer le fichier CSV directement dans votre r√©pertoire de travail sans l‚Äôouvrir, puis l‚Äôimporter dans RStudio √† l‚Äôaide du menu interactif.</p></li>
<li><p>Vous devriez √©galement √©viter d‚Äôouvrir le fichier CSV avec des applications ou autres (p.&nbsp;ex. application Moodle), ce qui peut √©galement entra√Æner des erreurs.</p></li>
<li><p>Il est pr√©f√©rable de t√©l√©charger les fichiers CSV avec des navigateurs standard tels que Chrome ou Safari.</p></li>
</ul>
</div>
</div>
</div>
<p>Avant de continuer avec <code>dplyr</code>, regardons encore deux √©l√©ments cruciales pour la manipulation de donn√©es avec R :</p>
<ul>
<li><p>la transformation du types de variable (p.&nbsp;ex. de variables textuelles en facteurs)</p></li>
<li><p>L‚Äôop√©rateur <code>%&gt;%</code> (angl. ‚Äúpipe‚Äù; trad. fran√ßaise ‚Äútuyau‚Äù)</p></li>
</ul>
<section id="la-transformation-du-type-de-variable" class="level3">
<h3 class="anchored" data-anchor-id="la-transformation-du-type-de-variable">La transformation du type de variable</h3>
<p>Lorsque l‚Äôon analyse des jeux de donn√©es, on constate parfois que toutes les variables <strong>ne sont pas enregistr√©es dans un format utile pour l‚Äôanalyse</strong>. Parfois, par exemple, les valeurs num√©riques sont enregistr√©es sous forme de texte. Il est alors utile de les transformer dans un format num√©rique (par exemple avec la fonction <code>as.numeric()</code>.</p>
<p>Mais il y a aussi le cas suivant : les variables sous forme de texte ne repr√©sentent pas simplement des textes, mais certaines <strong>cat√©gories</strong>. Dans ce cas, il est judicieux de les transformer en une variable cat√©gorielle, c‚Äôest-√†-dire un facteur, √† l‚Äôaide de la fonction <code>as.factor()</code>.</p>
<p>Dans notre exemple de jeu de donn√©es <code>igposts</code>, qui contient des m√©triques sur les posts Instagram, nous pouvons justement constater cela. Certes, certaines variables textuelles, telles que <code>URL</code> (le lien vers le post) et <code>Description</code> (le message textuel associ√© au post Instagram), sont tout √† fait pertinentes. D‚Äôautres, en revanche, sont des cat√©gories. La plus √©vidente est la variable <code>Type</code>, qui indique si un post Instagram est une photo, une vid√©o ou un album. Factorisons ci-dessous quelques-unes de ces variables cat√©gorielles √† l‚Äôaide de code :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transformons les colonnes 'Account', 'User.Name' et</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 'Type' en facteurs :</span></span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a>igposts<span class="sc">$</span>Account <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(igposts<span class="sc">$</span>Account)</span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a>igposts<span class="sc">$</span>User.Name <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(igposts<span class="sc">$</span>User.Name)</span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a>igposts<span class="sc">$</span>Type <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(igposts<span class="sc">$</span>Type)</span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-10"><a href="#cb114-10" aria-hidden="true" tabindex="-1"></a><span class="co"># V√©rifier, si √ßa a march√© :</span></span>
<span id="cb114-11"><a href="#cb114-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-12"><a href="#cb114-12" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(igposts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   100 obs. of  12 variables:
 $ Account             : Factor w/ 38 levels "Anastasia Karanikolaou",..: 24 31 21 7 7 7 16 35 31 7 ...
 $ User.Name           : Factor w/ 38 levels "agustd","arianagrande",..: 24 30 21 7 7 7 16 35 30 7 ...
 $ Followers.at.Posting: int  434255880 381000851 26965756 545618329 548818853 551324765 44212419 56881100 390981561 547708976 ...
 $ Post.Created.Date   : chr  "27/02/2023" "22/02/2023" "07/02/2023" "09/02/2023" ...
 $ Post.Created.Time   : chr  "18:17:47" "21:32:34" "11:55:59" "16:19:37" ...
 $ Type                : Factor w/ 2 levels "Album","Photo": 1 2 1 1 2 1 2 1 1 2 ...
 $ Total.Interactions  : int  23333227 20020533 16776082 16501407 14683868 14619124 13517205 12844571 12661694 12639004 ...
 $ Likes               : int  23075849 19760862 16554530 16317762 14603158 14489506 13517204 12844571 12589553 12558961 ...
 $ Comments            : int  257378 259671 221552 183645 80710 129618 1 0 72141 80043 ...
 $ Views               : int  0 0 0 0 0 0 0 10998354 5648190 0 ...
 $ URL                 : chr  "https://www.instagram.com/p/CpLxnFlNJZn/" "https://www.instagram.com/p/Co_P7YgrrFO/" "https://www.instagram.com/p/CoXmBSLvj7A/" "https://www.instagram.com/p/CodNx8BL1-X/" ...
 $ Description         : chr  "Gracias a todos los que hicieron posible que ganara este premio. A todos los de la @afaseleccion, a mi familia "| __truncated__ "I deleted this one time because I thought maybe it was too much but eh (taking a break from social)" "‚ÄúAb humari permanent booking hogayi hai‚Äù \n\nWe seek your blessings and love on our journey ahead ‚ù§Ô∏èüôè" "Great feeling to have scored 4 goals and reaching my 500th league goal in a very solid win by the team!üí™üèº\n‚öΩÔ∏è‚öΩÔ∏è‚öΩÔ∏è‚öΩÔ∏è" ...</code></pre>
</div>
</div>
<p>Nous allons voir par la suite, pourquoi ces factorisations sont utiles.</p>
</section>
<section id="lop√©rateur" class="level3">
<h3 class="anchored" data-anchor-id="lop√©rateur">L‚Äôop√©rateur <code>%&gt;%</code></h3>
<p>La fonction principale du pipe <code>%&gt;%</code> : construire <strong>une s√©quence de fonctions (‚Äúun tuyau‚Äù)</strong> qui est plus facile √† comprendre et a lire dans le code.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Par exemple, regardez la fonction suivante : quel est le</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="co"># probl√®me ?</span></span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="fu">sqrt</span>(<span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.960987</code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Le probl√®me est que cette fonction est imbriqu√©e et, √†</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="co"># cause de cela, difficile √† lire</span></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Avec le pipe, nous pouvons re√©crire cette fonction comme</span></span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a><span class="co"># √ßa et obtenir le m√™me r√©sultat apr√®s ex√©cution du code :</span></span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb118-8"><a href="#cb118-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mean</span>() <span class="sc">%&gt;%</span></span>
<span id="cb118-9"><a href="#cb118-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sqrt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb118-10"><a href="#cb118-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">log</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.960987</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Astuce">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous pouvez cr√©er le pipe <code>%&gt;%</code> avec les raccourcis clavier suivants :</p>
<ul>
<li><p>Sur <strong>Windows</strong> : <kbd>Control</kbd> + <kbd>Shift</kbd> + <kbd>M</kbd></p></li>
<li><p>Sur <strong>MacOS</strong> : <kbd>Command</kbd> + <kbd>Shift</kbd> + <kbd>M</kbd></p></li>
</ul>
<p>De plus, vous pouvez aussi utiliser <code>|&gt;</code> comme op√©rateur pipe alt√©rnatif (√©quivalent √† <code>%&gt;%</code>).</p>
</div>
</div>
<p>Vous pouvez d√©j√† constater que travailler avec des jeux de donn√©es du monde r√©el, tels que le jeu de donn√©es Instagram <code>igposts</code>, n√©cessite un travail pr√©paratoire substantiel. Mais rassurez-vous et ne vous d√©couragez pas, plus vous pratiquez, plus cela devient facile et, bient√¥t, vous serez en mesure de charger facilement des ensembles de donn√©es dans RStudio ! Par ailleurs : il est normal de rencontrer des messages d‚Äôerreur. C‚Äôest une partie essentielle du processus d‚Äôapprentissage que de les surmonter en bricolant et en jouant avec vos donn√©es jusqu‚Äô√† ce que vous puissiez les faire fonctionner.</p>
<p>Apr√®s avoir charg√© notre fichier CSV dans RStudio, appliqu√© des transformations et notre connaissance de l‚Äôop√©rateur pipe, nous pouvons maintenant manipuler les donn√©es avec le package <code>dplyr</code>.</p>
</section>
</section>
<section id="manipuler-les-donn√©es-avec-dplyr" class="level2">
<h2 class="anchored" data-anchor-id="manipuler-les-donn√©es-avec-dplyr">Manipuler les donn√©es avec <code>dplyr</code></h2>
<p>Le paquet <code>dplyr</code> est bas√© sur une logique de <em>verbes</em> pour les diff√©rents types de manipulation de donn√©es, notamment :</p>
<ul>
<li><p>Les verbes pour manipuler les donn√©es au niveau de <strong>colonnes</strong> :</p>
<ul>
<li><p><code>select()</code> : pour extraire une ou plusieurs colonnes d‚Äôun data frame.</p></li>
<li><p><code>mutate()</code> : pour cr√©er une ou plusieurs nouvelles colonnes dans un data frame.</p></li>
</ul></li>
<li><p>Les verbes pour manipuler les donn√©es au niveau de <strong>lignes</strong> :</p>
<ul>
<li><p><code>filter()</code> : pour filtrer les lignes d‚Äôun data frame selon un ou plusieurs crit√®res.</p></li>
<li><p><code>arrange()</code> : pour trier les lignes d‚Äôun data frame selon un ou plusieurs crit√®res.</p></li>
</ul></li>
<li><p>Les verbes pour <strong>r√©sumer, compter et regrouper</strong> les donn√©es :</p>
<ul>
<li><p><code>summarize()</code> : pour r√©duire une ou plusieurs colonnes d‚Äôun data frame en une seule ligne, notamment pour r√©sumer des donn√©es.</p></li>
<li><p><code>count()</code> : pour compter le nombre d‚Äôobservations d‚Äôune ou plusieurs cat√©gories dans un data frame.</p></li>
<li><p><code>group_by()</code> : pour regrouper des donn√©es d‚Äôun data frame selon une ou plusieurs cat√©gories.</p></li>
</ul></li>
</ul>
<p>Essayons maintenant d‚Äôappliquer tout cela avec du code et les donn√©es <code>igposts</code> pour comprendre ce que √ßa veut dire en pratique !</p>
<section id="manipulation-de-colonnes-selectet-mutate" class="level3">
<h3 class="anchored" data-anchor-id="manipulation-de-colonnes-selectet-mutate">Manipulation de colonnes : <code>select()</code>et <code>mutate()</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select() : fonction pour extraire une ou plusieurs</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="co"># colonnes d'un data frame</span></span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Par exemple, nous pouvons extraire le quatres colonnes</span></span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a><span class="co"># suivantes d'igposts (voir comment le pipe est utilis√©)</span></span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a>igposts <span class="sc">%&gt;%</span></span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(Account, Type, Followers.at.Posting, Total.Interactions)</span>
<span id="cb120-9"><a href="#cb120-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-10"><a href="#cb120-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Avec les deux points dans la fonction select(), vous</span></span>
<span id="cb120-11"><a href="#cb120-11" aria-hidden="true" tabindex="-1"></a><span class="co"># pouvez s√©lectionner plusieurs colonnes successives. Notez</span></span>
<span id="cb120-12"><a href="#cb120-12" aria-hidden="true" tabindex="-1"></a><span class="co"># que cette fois-ci, nous affichons que les six premi√®res</span></span>
<span id="cb120-13"><a href="#cb120-13" aria-hidden="true" tabindex="-1"></a><span class="co"># lignes avec la fonction head() :</span></span>
<span id="cb120-14"><a href="#cb120-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-15"><a href="#cb120-15" aria-hidden="true" tabindex="-1"></a>igposts <span class="sc">%&gt;%</span></span>
<span id="cb120-16"><a href="#cb120-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(Account<span class="sc">:</span>Views) <span class="sc">%&gt;%</span></span>
<span id="cb120-17"><a href="#cb120-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>()</span>
<span id="cb120-18"><a href="#cb120-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-19"><a href="#cb120-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Vous pouvez √©galement cr√©er un nouvel objet, df1, qui est</span></span>
<span id="cb120-20"><a href="#cb120-20" aria-hidden="true" tabindex="-1"></a><span class="co"># essentiellement un data frame plus petit que igposts avec</span></span>
<span id="cb120-21"><a href="#cb120-21" aria-hidden="true" tabindex="-1"></a><span class="co"># un sous-ensemble de variables (un tel data frame plus</span></span>
<span id="cb120-22"><a href="#cb120-22" aria-hidden="true" tabindex="-1"></a><span class="co"># petit peut √™tre plus utile √† analyser et √† afficher) :</span></span>
<span id="cb120-23"><a href="#cb120-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-24"><a href="#cb120-24" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> igposts <span class="sc">%&gt;%</span></span>
<span id="cb120-25"><a href="#cb120-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(Account, Type, Followers.at.Posting, Total.Interactions,</span>
<span id="cb120-26"><a href="#cb120-26" aria-hidden="true" tabindex="-1"></a>        URL)</span>
<span id="cb120-27"><a href="#cb120-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-28"><a href="#cb120-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-29"><a href="#cb120-29" aria-hidden="true" tabindex="-1"></a><span class="do">###############################################################################</span></span>
<span id="cb120-30"><a href="#cb120-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-31"><a href="#cb120-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-32"><a href="#cb120-32" aria-hidden="true" tabindex="-1"></a><span class="co"># mutate() : fonction pour cr√©er une ou plusieurs nouvelles</span></span>
<span id="cb120-33"><a href="#cb120-33" aria-hidden="true" tabindex="-1"></a><span class="co"># colonnes dans un data frame</span></span>
<span id="cb120-34"><a href="#cb120-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-35"><a href="#cb120-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Par exemple, nous pouvons cr√©er une nouvelle colonne qui</span></span>
<span id="cb120-36"><a href="#cb120-36" aria-hidden="true" tabindex="-1"></a><span class="co"># compte le nombre d'interactions par follower</span></span>
<span id="cb120-37"><a href="#cb120-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-38"><a href="#cb120-38" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb120-39"><a href="#cb120-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">TI_par_Follower =</span> Total.Interactions<span class="sc">/</span>Followers.at.Posting)</span>
<span id="cb120-40"><a href="#cb120-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-41"><a href="#cb120-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Attention, sans op√©rateur &lt;-, nous ne changeons pas</span></span>
<span id="cb120-42"><a href="#cb120-42" aria-hidden="true" tabindex="-1"></a><span class="co"># l'objet df1 Pour ce faire et sauvegarder notre nouvelle</span></span>
<span id="cb120-43"><a href="#cb120-43" aria-hidden="true" tabindex="-1"></a><span class="co"># colonne, nous pouvons l'√©craser :</span></span>
<span id="cb120-44"><a href="#cb120-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-45"><a href="#cb120-45" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> df1 <span class="sc">%&gt;%</span></span>
<span id="cb120-46"><a href="#cb120-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">TI_par_Follower =</span> Total.Interactions<span class="sc">/</span>Followers.at.Posting)</span>
<span id="cb120-47"><a href="#cb120-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-48"><a href="#cb120-48" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="manipulation-de-lignes-avec-filter-et-arrange" class="level3">
<h3 class="anchored" data-anchor-id="manipulation-de-lignes-avec-filter-et-arrange">Manipulation de lignes avec <code>filter()</code> et <code>arrange()</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter() : fonction pour filtrer les lignes selon un ou</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="co"># plusieurs crit√®res</span></span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Pour filtrer pour une valeur sp√©cifique d'une variable,</span></span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a><span class="co"># p.ex. les posts de Cristiano Ronaldo :</span></span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Account <span class="sc">==</span> <span class="st">"Cristiano Ronaldo"</span>)</span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Pour plusieurs valeurs sp√©cifique de la m√™me variable, p.</span></span>
<span id="cb121-11"><a href="#cb121-11" aria-hidden="true" tabindex="-1"></a><span class="co"># ex. les posts de Ronaldo et Messi :</span></span>
<span id="cb121-12"><a href="#cb121-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-13"><a href="#cb121-13" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb121-14"><a href="#cb121-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Account <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Cristiano Ronaldo"</span>, <span class="st">"Leo Messi"</span>))</span>
<span id="cb121-15"><a href="#cb121-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-16"><a href="#cb121-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Pour plusieurs valeurs sp√©cifiques de variables</span></span>
<span id="cb121-17"><a href="#cb121-17" aria-hidden="true" tabindex="-1"></a><span class="co"># diff√©rentes, p. ex. les posts de type Photo de Ronaldo :</span></span>
<span id="cb121-18"><a href="#cb121-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-19"><a href="#cb121-19" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb121-20"><a href="#cb121-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Account <span class="sc">==</span> <span class="st">"Cristiano Ronaldo"</span>, Type <span class="sc">==</span> <span class="st">"Photo"</span>)</span>
<span id="cb121-21"><a href="#cb121-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-22"><a href="#cb121-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrer √† partir de valeurs num√©riques, p. ex. les posts</span></span>
<span id="cb121-23"><a href="#cb121-23" aria-hidden="true" tabindex="-1"></a><span class="co"># avec au moins 10 millions d'int√©ractions :</span></span>
<span id="cb121-24"><a href="#cb121-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-25"><a href="#cb121-25" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb121-26"><a href="#cb121-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Total.Interactions <span class="sc">&gt;=</span> <span class="fl">1e+07</span>)</span>
<span id="cb121-27"><a href="#cb121-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-28"><a href="#cb121-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrer pour les posts de Selena Gomez avec au moins 10</span></span>
<span id="cb121-29"><a href="#cb121-29" aria-hidden="true" tabindex="-1"></a><span class="co"># millions d'int√©ractions :</span></span>
<span id="cb121-30"><a href="#cb121-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-31"><a href="#cb121-31" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb121-32"><a href="#cb121-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Account <span class="sc">==</span> <span class="st">"Selena Gomez"</span>, Total.Interactions <span class="sc">&gt;=</span> <span class="fl">1e+07</span>)</span>
<span id="cb121-33"><a href="#cb121-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-34"><a href="#cb121-34" aria-hidden="true" tabindex="-1"></a><span class="do">###############################################################################</span></span>
<span id="cb121-35"><a href="#cb121-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-36"><a href="#cb121-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-37"><a href="#cb121-37" aria-hidden="true" tabindex="-1"></a><span class="co"># arrange() : fonction pour trier les lignes selon un ou</span></span>
<span id="cb121-38"><a href="#cb121-38" aria-hidden="true" tabindex="-1"></a><span class="co"># plusieurs crit√®res</span></span>
<span id="cb121-39"><a href="#cb121-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-40"><a href="#cb121-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Trier des valeurs/facteurs textuelles par ordre</span></span>
<span id="cb121-41"><a href="#cb121-41" aria-hidden="true" tabindex="-1"></a><span class="co"># alphab√©tique :</span></span>
<span id="cb121-42"><a href="#cb121-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-43"><a href="#cb121-43" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb121-44"><a href="#cb121-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(Account) <span class="sc">%&gt;%</span></span>
<span id="cb121-45"><a href="#cb121-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb121-46"><a href="#cb121-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-47"><a href="#cb121-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Trier par le nombre d'int√©ractions (ordre croissant)</span></span>
<span id="cb121-48"><a href="#cb121-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-49"><a href="#cb121-49" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb121-50"><a href="#cb121-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(Total.Interactions) <span class="sc">%&gt;%</span></span>
<span id="cb121-51"><a href="#cb121-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb121-52"><a href="#cb121-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-53"><a href="#cb121-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Trier par le nombre d'int√©ractions par follower (ordre</span></span>
<span id="cb121-54"><a href="#cb121-54" aria-hidden="true" tabindex="-1"></a><span class="co"># d√©croissant)</span></span>
<span id="cb121-55"><a href="#cb121-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-56"><a href="#cb121-56" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb121-57"><a href="#cb121-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(TI_par_Follower)) <span class="sc">%&gt;%</span></span>
<span id="cb121-58"><a href="#cb121-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="r√©sumer-compter-et-regrouper-avec-summarize-count-et-group_by" class="level3">
<h3 class="anchored" data-anchor-id="r√©sumer-compter-et-regrouper-avec-summarize-count-et-group_by">R√©sumer, compter et regrouper avec <code>summarize()</code>, <code>count()</code> et <code>group_by()</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="co"># summarize() : fonction qui r√©duit une ou plusieurs</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="co"># colonnes en une seule ligne, notamment pour r√©sumer des</span></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a><span class="co"># donn√©es</span></span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Nous pouvons, par exemple, r√©sumer la somme totale de</span></span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Total.Interactions dans notre ensemble de donn√©es. Ce</span></span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a><span class="co"># nombre est assez impressionnant et constitue une</span></span>
<span id="cb122-8"><a href="#cb122-8" aria-hidden="true" tabindex="-1"></a><span class="co"># caract√©ristique importante de notre ensemble de donn√©es.</span></span>
<span id="cb122-9"><a href="#cb122-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-10"><a href="#cb122-10" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb122-11"><a href="#cb122-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">sum_TI =</span> <span class="fu">sum</span>(Total.Interactions))</span>
<span id="cb122-12"><a href="#cb122-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-13"><a href="#cb122-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Nous pouvons aussi calculer les moyennes des int√©ractions</span></span>
<span id="cb122-14"><a href="#cb122-14" aria-hidden="true" tabindex="-1"></a><span class="co"># et de followers de tout les comptes qui ont publi√© les</span></span>
<span id="cb122-15"><a href="#cb122-15" aria-hidden="true" tabindex="-1"></a><span class="co"># posts :</span></span>
<span id="cb122-16"><a href="#cb122-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-17"><a href="#cb122-17" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb122-18"><a href="#cb122-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">mean_TI =</span> <span class="fu">mean</span>(Total.Interactions), <span class="at">mean_Followers =</span> <span class="fu">mean</span>(Followers.at.Posting))</span>
<span id="cb122-19"><a href="#cb122-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-20"><a href="#cb122-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-21"><a href="#cb122-21" aria-hidden="true" tabindex="-1"></a><span class="do">###############################################################################</span></span>
<span id="cb122-22"><a href="#cb122-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-23"><a href="#cb122-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-24"><a href="#cb122-24" aria-hidden="true" tabindex="-1"></a><span class="co"># count() : fonction qui compte le nombre d'observations</span></span>
<span id="cb122-25"><a href="#cb122-25" aria-hidden="true" tabindex="-1"></a><span class="co"># d'une ou plusieurs cat√©gories</span></span>
<span id="cb122-26"><a href="#cb122-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-27"><a href="#cb122-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Compter l'occurence des types de posts Instagram (Photo</span></span>
<span id="cb122-28"><a href="#cb122-28" aria-hidden="true" tabindex="-1"></a><span class="co"># et Album, dans ce cas) dans notre jeu de donn√©es :</span></span>
<span id="cb122-29"><a href="#cb122-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-30"><a href="#cb122-30" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb122-31"><a href="#cb122-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(Type)</span>
<span id="cb122-32"><a href="#cb122-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-33"><a href="#cb122-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Compter l'occurence des diff√©rents comptes dans notre jeu</span></span>
<span id="cb122-34"><a href="#cb122-34" aria-hidden="true" tabindex="-1"></a><span class="co"># de donn√©es :</span></span>
<span id="cb122-35"><a href="#cb122-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-36"><a href="#cb122-36" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb122-37"><a href="#cb122-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(Account)</span>
<span id="cb122-38"><a href="#cb122-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-39"><a href="#cb122-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Compter l'occurence des diff√©rents comptes dans notre jeu</span></span>
<span id="cb122-40"><a href="#cb122-40" aria-hidden="true" tabindex="-1"></a><span class="co"># de donn√©es en les triant par cette occurence de mani√®re</span></span>
<span id="cb122-41"><a href="#cb122-41" aria-hidden="true" tabindex="-1"></a><span class="co"># d√©croissante (avec le param√®tre arrange(-n)) :</span></span>
<span id="cb122-42"><a href="#cb122-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-43"><a href="#cb122-43" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb122-44"><a href="#cb122-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(Account) <span class="sc">%&gt;%</span></span>
<span id="cb122-45"><a href="#cb122-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb122-46"><a href="#cb122-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb122-47"><a href="#cb122-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-48"><a href="#cb122-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-49"><a href="#cb122-49" aria-hidden="true" tabindex="-1"></a><span class="do">###############################################################################</span></span>
<span id="cb122-50"><a href="#cb122-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-51"><a href="#cb122-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-52"><a href="#cb122-52" aria-hidden="true" tabindex="-1"></a><span class="co"># group_by() : fonction qui regroupe des donn√©es selon une</span></span>
<span id="cb122-53"><a href="#cb122-53" aria-hidden="true" tabindex="-1"></a><span class="co"># ou plusieurs cat√©gories</span></span>
<span id="cb122-54"><a href="#cb122-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-55"><a href="#cb122-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Regroupement par type de post et comparaison du nombre</span></span>
<span id="cb122-56"><a href="#cb122-56" aria-hidden="true" tabindex="-1"></a><span class="co"># moyen d'interactions par type de post :</span></span>
<span id="cb122-57"><a href="#cb122-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-58"><a href="#cb122-58" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb122-59"><a href="#cb122-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Type) <span class="sc">%&gt;%</span></span>
<span id="cb122-60"><a href="#cb122-60" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">mean_TI =</span> <span class="fu">mean</span>(Total.Interactions))</span>
<span id="cb122-61"><a href="#cb122-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-62"><a href="#cb122-62" aria-hidden="true" tabindex="-1"></a><span class="co"># En utilisant le param√®tre n=n() dans la fonction</span></span>
<span id="cb122-63"><a href="#cb122-63" aria-hidden="true" tabindex="-1"></a><span class="co"># summarize(), nous pouvons √©galement compter le nombre</span></span>
<span id="cb122-64"><a href="#cb122-64" aria-hidden="true" tabindex="-1"></a><span class="co"># d'observations dans chaque cat√©gorie :</span></span>
<span id="cb122-65"><a href="#cb122-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-66"><a href="#cb122-66" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb122-67"><a href="#cb122-67" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Type) <span class="sc">%&gt;%</span></span>
<span id="cb122-68"><a href="#cb122-68" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>(), <span class="at">mean_TI =</span> <span class="fu">mean</span>(Total.Interactions))</span>
<span id="cb122-69"><a href="#cb122-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-70"><a href="#cb122-70" aria-hidden="true" tabindex="-1"></a><span class="co"># Utilisons plusieurs verbes dplyr pour trouver les 10</span></span>
<span id="cb122-71"><a href="#cb122-71" aria-hidden="true" tabindex="-1"></a><span class="co"># comptes qui apparaissent le plus fr√©quemment dans nos</span></span>
<span id="cb122-72"><a href="#cb122-72" aria-hidden="true" tabindex="-1"></a><span class="co"># ensembles de donn√©es de posts Instagram. Nous r√©sumons</span></span>
<span id="cb122-73"><a href="#cb122-73" aria-hidden="true" tabindex="-1"></a><span class="co"># √©galement leur nombre moyen de followers et</span></span>
<span id="cb122-74"><a href="#cb122-74" aria-hidden="true" tabindex="-1"></a><span class="co"># d'interactions.</span></span>
<span id="cb122-75"><a href="#cb122-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-76"><a href="#cb122-76" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb122-77"><a href="#cb122-77" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Account) <span class="sc">%&gt;%</span></span>
<span id="cb122-78"><a href="#cb122-78" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>(), <span class="at">mean_Followers =</span> <span class="fu">mean</span>(Followers.at.Posting),</span>
<span id="cb122-79"><a href="#cb122-79" aria-hidden="true" tabindex="-1"></a>        <span class="at">mean_TI =</span> <span class="fu">mean</span>(Total.Interactions)) <span class="sc">%&gt;%</span></span>
<span id="cb122-80"><a href="#cb122-80" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb122-81"><a href="#cb122-81" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb122-82"><a href="#cb122-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-83"><a href="#cb122-83" aria-hidden="true" tabindex="-1"></a><span class="co"># Utilisons plusieurs verbes dplyr pour comparer les Likes</span></span>
<span id="cb122-84"><a href="#cb122-84" aria-hidden="true" tabindex="-1"></a><span class="co"># et Comments des posts de Ronaldo et Messi :</span></span>
<span id="cb122-85"><a href="#cb122-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-86"><a href="#cb122-86" aria-hidden="true" tabindex="-1"></a>igposts <span class="sc">%&gt;%</span></span>
<span id="cb122-87"><a href="#cb122-87" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Account) <span class="sc">%&gt;%</span></span>
<span id="cb122-88"><a href="#cb122-88" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Account <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Cristiano Ronaldo"</span>, <span class="st">"Leo Messi"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb122-89"><a href="#cb122-89" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>(), <span class="at">mean_Followers =</span> <span class="fu">mean</span>(Followers.at.Posting),</span>
<span id="cb122-90"><a href="#cb122-90" aria-hidden="true" tabindex="-1"></a>        <span class="at">mean_Likes =</span> <span class="fu">mean</span>(Likes), <span class="at">mean_Comments =</span> <span class="fu">mean</span>(Comments))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="devoir-pour-session-8-et-infos-questionnaireproblem-set-3" class="level2">
<h2 class="anchored" data-anchor-id="devoir-pour-session-8-et-infos-questionnaireproblem-set-3">Devoir pour Session 8 et infos questionnaire/Problem Set 3</h2>
<ul>
<li><p>Attention, <strong>la session 8 du 17 et 18 avril 2024 sera une session en auto-apprentissage !</strong> Il n‚Äôy a donc pas d‚Äôenseignement en classe √† Fribourg.</p></li>
<li><p>Le mat√©riel de session 8, la deuxi√®me partie de la manipulation de donn√©es, sera accessible sur ce site √† partir du 17 avril.</p></li>
<li><p>Assurez-vous d‚Äôavoir <strong>rempli le questionnaire avant la date limite</strong> (<strong>19 avril 2024 √† 23h59</strong>). Tou(te)s les √©tudiant(e)s qui auront rempli le questionnaire √† temps recevront 2 points de bonus pour le probl√®me set 4 (10% des points).</p></li>
<li><p>Si vous avez des difficult√©s √† acc√©der au questionnaire via le lien personnalis√© qui vous a √©t√© envoy√© par e-mail : Essayez √† nouveau avec diff√©rents navigateurs, sur votre t√©l√©phone portable et d√©sactivez les √©ventuels ad-blockers. Si n√©cessaire, veuillez contacter l‚Äôenseignant afin de recevoir un nouveau lien par e-mail.</p></li>
<li><p>Dans deux semaines, les 24 et 25 avril, aura lieu <strong>Problem Set 3</strong>. Il portera principalement sur les contenus des sessions 7 et 8 (manipulation de donn√©es). Comblez vous-m√™me les √©ventuelles lacunes de vos connaissances (p.&nbsp;ex. configurer correctement le r√©pertoire de travail, utiliser l‚Äôop√©rateur d‚Äôassignation <code>&lt;-</code>, etc.) Assurez-vous de pouvoir lire correctement les fichiers CSV dans RStudio, car cela sera n√©cessaire pour r√©soudre l‚Äôensemble de probl√®mes 3.</p></li>
</ul>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div>MIT</div></div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>